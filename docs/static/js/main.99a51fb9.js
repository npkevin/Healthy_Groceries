/*! For license information please see main.99a51fb9.js.LICENSE.txt */
!function(){var e={725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,T=60107,k=60108,I=60114,x=60109,N=60110,C=60112,O=60113,A=60120,D=60115,P=60116,R=60121,L=60128,j=60129,F=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),S=V("react.portal"),T=V("react.fragment"),k=V("react.strict_mode"),I=V("react.profiler"),x=V("react.provider"),N=V("react.context"),C=V("react.forward_ref"),O=V("react.suspense"),A=V("react.suspense_list"),D=V("react.memo"),P=V("react.lazy"),R=V("react.block"),V("react.scope"),L=V("react.opaque.id"),j=V("react.debug_trace_mode"),F=V("react.offscreen"),M=V("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return Q(e.type);case R:return Q(e._render);case P:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ne=null,Ce=null;function Oe(e){if(e=ri(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),xe(e.stateNode,e.type,t))}}function Ae(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function De(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Pe,Fe=!1,Me=!1;function Ve(){null===Ne&&null===Ce||(Le(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Be=!1}function qe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Qe=null,Ge={onError:function(e){Ke=!0,He=e}};function $e(e,t,n,r,i,o,a,s,u){Ke=!1,He=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},It={};function xt(e){if(kt[e])return kt[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return kt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Nt=xt("animationend"),Ct=xt("animationiteration"),Ot=xt("animationstart"),At=xt("transitionend"),Dt=new Map,Pt=new Map,Rt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Ft(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Ft(u),i=jt):0!==(s&=o)&&(r=Ft(s),i=jt)}else 0!==(o=n&~a)?(r=Ft(o),i=jt):0!==s&&(r=Ft(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ft(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Qt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,o=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=o)||Ve()}}function Xt(e,t,n,r){Gt(Qt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),gn=un(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(_n),Sn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Nn(){return xn}var Cn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(Cn),An=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Rn),jn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Mn,Un=f&&(!Fn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Cr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Gn(t,Yn,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ve()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Tr.length;kr++)Pt.set(Tr[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var l=He;Ke=!1,He=null,We||(We=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}}}if(We)throw e=Qe,We=!1,Qe=null,e}function Or(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){xr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{je(e,t,n)}finally{Me=!1,Ve()}}((function(){var r=o,i=Ie(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case Nt:case Ct:case Ot:u=wn;break;case At:u=Pn;break;case"scroll":u=gn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==h&&(null!=(g=Ue(p,h))&&l.push(jr(p,g,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,g="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(g,p+"leave",u,n,i)).target=f,s.relatedTarget=d,g=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,g=h;g;g=Mr(g))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Vr(a,s,u,l,!1),null!==c&&null!==f&&Vr(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zn;else if(Qn(s))if(er)v=cr;else{v=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Gn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Qn(m)||"true"===m.contentEditable)&&(br=m,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Fr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Kn(n))&&(b.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Cr(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Ue(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),gi=hi;function vi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,gi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,Ti=null,ki=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Oi=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Li=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Fi={},Mi=void 0!==Ci?Ci:function(){},Vi=null,Ui=null,Bi=!1,zi=Oi(),qi=1e4>zi?Oi:function(){return Oi()-zi};function Ki(){switch(Ai()){case Di:return 99;case Pi:return 98;case Ri:return 97;case Li:return 96;case ji:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Ri;case 96:return Li;case 95:return ji;default:throw Error(a(332))}}function Wi(e,t){return e=Hi(e),ki(e,t)}function Qi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,xi(e)}$i()}function $i(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ii(Di,Gi),n}finally{Bi=!1}}}var Yi=_.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?gi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?gi:di.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Qu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Gu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Qu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||z(t))return(t=Gu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||z(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=d(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=d(i,g,y.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Gu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Qu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(z(o))return v(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(e.type)||"Component"))}return n(e,r)}}var xo=Io(!0),No=Io(!1),Co={},Oo=ci(Co),Ao=ci(Co),Do=ci(Co);function Po(e){if(e===Co)throw Error(a(174));return e}function Ro(e,t){switch(fi(Do,t),fi(Ao,e),fi(Oo,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oo),fi(Oo,t)}function Lo(){li(Oo),li(Ao),li(Do)}function jo(e){Po(Do.current);var t=Po(Oo.current),n=pe(t,e.type);t!==n&&(fi(Ao,e),fi(Oo,n))}function Fo(e){Ao.current===e&&(li(Oo),li(Ao))}var Mo=ci(0);function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Bo=null,zo=!1;function qo(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(zo){var t=Bo;if(t){var n=t;if(!Ko(e,t)){if(!(t=Gr(n.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Uo=e);qo(Uo,n)}Uo=e,Bo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Qo(e){if(e!==Uo)return!1;if(!zo)return Wo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Bo;t;)qo(e,t),t=Gr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Uo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Bo=Uo=null,zo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Pa:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=La,e=n(r,i)}while(ia)}if(Xo.current=Da,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,g=h.source;h=h.subscribe;var v=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Kt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Aa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function ga(e,t,n){return pa(ca(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Aa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function Ea(e,t){return wa(516,4,e,t)}function Sa(e,t){return _a(516,4,e,t)}function Ta(e,t){return _a(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)}function xa(){}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Aa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Da={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:xa,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Oa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Na,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:Ca,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:xa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Na,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:Ca,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:xa,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},ja=_.ReactCurrentOwner,Fa=!1;function Ma(e,t,n,r){t.child=null===e?No(t,null,n,r):xo(t,e.child,n,r)}function Va(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Fa=!0)}return Ka(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Ma(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ka(e,t,n,r,i){var o=mi(n)?gi:di.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(mi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=mi(n)?gi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(mo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=mi(n)?gi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&_o(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(mo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){qa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Qa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var Ga,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Mo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Mo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Gu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(a,s),null!==e?r=Wu(e,r):(r=Gu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(e,t,r.children,n),0!==(2&(r=Mo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Mo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Lo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fo(t);var o=Po(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Oo.current),Qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Or(Ir[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ga(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Or(Ir[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Do.current),Po(Oo.current),Qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Mo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Mo.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Ps||0===(134217727&Bs)&&0===(134217727&zs)||yu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Mo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Ms||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Vo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Mo,1&Mo.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Vo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Mo.current,fi(Mo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return li(Mo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Mo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Oo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Te(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(o){Uu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uu(t,o)}break;case 5:gs(t);break;case 4:ks(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Ts(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),ys(t.child,!0)),void xs(t);case 19:return void xs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Os=_.ReactCurrentDispatcher,As=_.ReactCurrentOwner,Ds=0,Ps=null,Rs=null,Ls=0,js=0,Fs=ci(0),Ms=0,Vs=null,Us=0,Bs=0,zs=0,qs=0,Ks=null,Hs=0,Ws=1/0;function Qs(){Ws=qi()+500}var Gs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ds)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Us),0!==Yi.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ds)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;qt(e,t,n),e===Ps&&(zs|=t,4===Ms&&yu(e,Ls));var r=Ki();1===t?0!==(8&Ds)&&0===(48&Ds)?bu(e):(vu(e,n),0===Ds&&(Qs(),Gi())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Ks=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=jt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Ps?Ls:0),t=jt,0===r)null!==n&&(n!==Fi&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&xi(n)}15===t?(n=bu.bind(null,e),null===Vi?(Vi=[n],Ui=Ii(Di,$i)):Vi.push(n),n=Fi):14===t?n=Qi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Qi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Ds))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var o=Iu();for(Ps===e&&Ls===r||(Qs(),Tu(e,r));;)try{Cu();break}catch(u){ku(e,u)}if(no(),Os.current=o,Ds=i,null!==Rs?r=0:(Ps=null,Ls=0,r=Ms),0!==(Us&zs))Tu(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=Vt(e))&&(r=xu(e,n))),1===r)throw t=Vs,Tu(e,0),yu(e,n),vu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Du(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Du.bind(null,e),r);break}Du(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Hr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(a(329))}}return vu(e,qi()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ds))throw Error(a(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=xu(e,t);0!==(Us&zs)&&(n=xu(e,t=Mt(e,t)))}else n=xu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=Vt(e))&&(n=xu(e,t))),1===n)throw n=Vs,Tu(e,0),yu(e,t),vu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),vu(e,qi()),null}function wu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Qs(),Gi())}}function _u(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Qs(),Gi())}}function Eu(e,t){fi(Fs,js),js|=t,Us|=t}function Su(){js=Fs.current,li(Fs)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Lo(),li(pi),li(di),Yo();break;case 5:Fo(r);break;case 4:Lo();break;case 13:case 19:li(Mo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ps=e,Rs=Wu(e.current,null),Ls=js=Us=t,Ms=0,Vs=null,qs=zs=Bs=0}function ku(e,t){for(;;){var n=Rs;try{if(no(),Xo.current=Da,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,As.current=null,null===n||null===n.return){Ms=1,Vs=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Mo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=h.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var m=new Set;m.add(c),h.updateQueue=m}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var _=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(S){t=S,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Iu(){var e=Os.current;return Os.current=Da,null===e?Da:e}function xu(e,t){var n=Ds;Ds|=16;var r=Iu();for(Ps===e&&Ls===t||Tu(e,t);;)try{Nu();break}catch(i){ku(e,i)}if(no(),Ds=n,Os.current=r,null!==Rs)throw Error(a(261));return Ps=null,Ls=0,Ms}function Nu(){for(;null!==Rs;)Ou(Rs)}function Cu(){for(;null!==Rs&&!Ni();)Ou(Rs)}function Ou(e){var t=Gs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Au(e):Rs=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ms&&(Ms=5)}function Du(e){var t=Ki();return Wi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ds))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Kt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Rs=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,As.current=null,Br=$t,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(h=f+o),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++p===o&&(h=f),m===c&&++g===l&&(d=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(I){if(null===$s)throw Error(a(330));Uu($s,I),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ye($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Is($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Is($s.alternate,$s);break;case 4:Is($s.alternate,$s);break;case 8:ks(s,u=$s);var E=u.alternate;ws(u),null!==E&&ws(E)}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));Uu($s,I),$s=$s.nextEffect}}while(null!==$s);if(_=zr,w=vr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Br,zr=Br=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var S=$s.flags;if(36&S&&ms(b,$s.alternate,$s),128&S){w=void 0;var T=$s.ref;if(null!==T){var k=$s.stateNode;$s.tag,w=k,"function"===typeof T?T(w):T.current=w}}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));Uu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=null,Mi(),Ds=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(vu(e,qi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Ds)||Gi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Ns(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&vs(e,$s),0===(512&t)||Zs||(Zs=!0,Qi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Mu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function Mu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(a(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Uu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Gi(),!0}function Vu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=gu(e,1))&&(qt(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=gu(n,1)))qt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===Ms||3===Ms&&(62914560&Ls)===Ls&&500>qi()-Hs?Tu(e,0):qs|=n),vu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Us),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=gu(e,t))&&(qt(e,t,n),vu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Gu(n.children,i,o,t);case j:s=8,i|=16;break;case k:s=8,i|=1;break;case I:return(e=Ku(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case O:return(e=Ku(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case A:return(e=Ku(19,n,t,i)).elementType=A,e.lanes=o,e;case F:return $u(n,i,o,t);case M:return(e=Ku(24,n,t,i)).elementType=M,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case N:s=9;break e;case C:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,t.tag){case 3:Qa(t),Go();break;case 5:jo(t);break;case 1:mi(t.type)&&_i(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Mo,1&Mo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Mo,1&Mo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Mo,Mo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return os(e,t,n)}Fa=0!==(16384&e.flags)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Ma(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ka(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Va(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Gr(t.stateNode.containerInfo.firstChild),Uo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(e,t,r,n),Go();t=t.child}return t;case 5:return jo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==o&&Kr(r,o)&&(t.flags|=16),qa(e,t),Ma(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ua(e,t,i,o=Xi(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),Eo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=wu,Re=function(e,t,n,r,i){var o=Ds;Ds|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=o)&&(Qs(),Gi())}},Le=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,qi())}))}Gi()}(),Lu())},je=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Qs(),Gi())}};var uc={Events:[ri,ii,oi,Ae,De,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),Ti=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ds=n,Gi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=x(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(g=!1,v=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,_.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],N=1,C=null,O=3,A=!1,D=!1,P=!1;function R(e){for(var t=S(x);null!==t;){if(null===t.callback)T(x);else{if(!(t.startTime<=e))break;T(x),t.sortIndex=t.expirationTime,E(I,t)}t=S(x)}}function L(e){if(P=!1,R(e),!D)if(null!==S(I))D=!0,n(j);else{var t=S(x);null!==t&&r(L,t.startTime-e)}}function j(e,n){D=!1,P&&(P=!1,i()),A=!0;var o=O;try{for(R(n),C=S(I);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,O=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===S(I)&&T(I),R(n)}else T(I);C=S(I)}if(null!==C)var u=!0;else{var c=S(x);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,O=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(x,e),null===S(I)&&e===S(x)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=u,E(I,e),D||A||(D=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d4126422.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="groceries:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Recipe-Cards/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgroceries=self.webpackChunkgroceries||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Up){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},h(e,t)};function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function g(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Up){o(Up)}}function s(e){try{u(r.throw(e))}catch(Up){o(Up)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function v(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Up){o=[6,Up],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function m(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var w=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},E=function(e){return function(e){var t=w(e);return _.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function S(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=S(e[n],t[n]));return e}var T=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Up){return!1}}var x=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return d(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?C(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new x(i,s,r);return u},e}();function C(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function D(e,t){var n=new P(e,t);return n.subscribe.bind(n)}var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Up){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Up){"undefined"!==typeof console&&console.error&&console.error(Up)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function R(){}function L(e){return e&&e._delegate?e._delegate:e}var j=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),F="[DEFAULT]",M=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new T;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Up){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Up){if(r)return null;throw Up}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:F})}catch(Up){}try{for(var r=m(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=y(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Up){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=F),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return g(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(b(b([],y(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),y(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=F),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=F),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=m(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=y(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=m(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===F?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(wp){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=F),this.component?this.component.multipleInstances?e:F:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var V,U=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new M(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function B(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var z,q=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(z||(z={}));var K,H={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},W=z.INFO,Q=((V={})[z.DEBUG]="log",V[z.VERBOSE]="log",V[z.INFO]="info",V[z.WARN]="warn",V[z.ERROR]="error",V),G=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Q[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,B(["["+i+"]  "+e.name+":"],n))}},$=function(){function e(e){this.name=e,this._logLevel=W,this._logHandler=G,this._userLogHandler=null,q.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in z))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?H[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,B([this,z.DEBUG],e)),this._logHandler.apply(this,B([this,z.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,B([this,z.VERBOSE],e)),this._logHandler.apply(this,B([this,z.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,B([this,z.INFO],e)),this._logHandler.apply(this,B([this,z.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,B([this,z.WARN],e)),this._logHandler.apply(this,B([this,z.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,B([this,z.ERROR],e)),this._logHandler.apply(this,B([this,z.ERROR],e))},e}();function Y(e){q.forEach((function(t){t.setLogLevel(e)}))}var X,J=((K={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",K["bad-app-name"]="Illegal App name: '{$appName}",K["duplicate-app"]="Firebase App named '{$appName}' already exists",K["app-deleted"]="Firebase App named '{$appName}' already deleted",K["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",K["invalid-log-argument"]="First argument to `onLog` must be null or a function.",K),Z=new N("app","Firebase",J),ee="@firebase/app",te="[DEFAULT]",ne=((X={})[ee]="fire-core",X["@firebase/analytics"]="fire-analytics",X["@firebase/app-check"]="fire-app-check",X["@firebase/auth"]="fire-auth",X["@firebase/database"]="fire-rtdb",X["@firebase/functions"]="fire-fn",X["@firebase/installations"]="fire-iid",X["@firebase/messaging"]="fire-fcm",X["@firebase/performance"]="fire-perf",X["@firebase/remote-config"]="fire-rc",X["@firebase/storage"]="fire-gcs",X["@firebase/firestore"]="fire-fst",X["fire-js"]="fire-js",X["firebase-wrapper"]="fire-js-all",X),re=new $("@firebase/app"),ie=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=S(void 0,e),this.container=new U(t.name),this._addComponent(new j("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=te),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=te),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Up){re.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Up)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Z.create("app-deleted",{appName:this.name_})},e}();ie.prototype.name&&ie.prototype.options||ie.prototype.delete||console.log("dc");function oe(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=te);var a=o.name;if("string"!==typeof a||!a)throw Z.create("bad-app-name",{appName:String(a)});if(A(t,a))throw Z.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ne[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void re.warn(u.join(" "))}o(new j(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Y,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw Z.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=H[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:z[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=q;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!A(t,e=e||te))throw Z.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return re.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw Z.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&S(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ae=function e(){var t=oe(ie);return t.INTERNAL=p(p({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){S(t,e)},createSubscribe:D,ErrorFactory:N,deepExtend:S}),t}(),se=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ue=self.firebase.SDK_VERSION;ue&&ue.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ce=ae.initializeApp;ae.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I()&&re.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ce.apply(void 0,e)};var le=ae;!function(e,t){e.INTERNAL.registerComponent(new j("platform-logger",(function(e){return new se(e)}),"PRIVATE")),e.registerVersion(ee,"0.6.30",t),e.registerVersion("fire-js","")}(le);var fe=le,he="8.10.1";fe.registerVersion("firebase",he,"app"),fe.SDK_VERSION=he;var de=function(e,t){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},de(e,t)};function pe(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ge,ve="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},me=me||{},ye=ve||self;function be(){}function we(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _e(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ee="closure_uid_"+(1e9*Math.random()>>>0),Se=0;function Te(e,t,n){return e.call.apply(e.bind,arguments)}function ke(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ie(e,t,n){return(Ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Te:ke).apply(null,arguments)}function xe(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ne(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ce(){this.s=this.s,this.o=this.o}var Oe={};Ce.prototype.s=!1,Ce.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ee)&&e[Ee]||(e[Ee]=++Se)}(this);delete Oe[e]}},Ce.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ae=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},De=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Pe(e){return Array.prototype.concat.apply([],arguments)}function Re(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Le(e){return/^[\s\xa0]*$/.test(e)}var je,Fe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Me(e,t){return-1!=e.indexOf(t)}function Ve(e,t){return e<t?-1:e>t?1:0}e:{var Ue=ye.navigator;if(Ue){var Be=Ue.userAgent;if(Be){je=Be;break e}}je=""}function ze(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qe(e){var t={};for(var n in e)t[n]=e[n];return t}var Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ke.length;o++)n=Ke[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function We(e){return We[" "](e),e}We[" "]=be;var Qe,Ge=Me(je,"Opera"),$e=Me(je,"Trident")||Me(je,"MSIE"),Ye=Me(je,"Edge"),Xe=Ye||$e,Je=Me(je,"Gecko")&&!(Me(je.toLowerCase(),"webkit")&&!Me(je,"Edge"))&&!(Me(je,"Trident")||Me(je,"MSIE"))&&!Me(je,"Edge"),Ze=Me(je.toLowerCase(),"webkit")&&!Me(je,"Edge");function et(){var e=ye.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=je;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),$e){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Qe=String(rt);break e}}Qe=tt}var it,ot={};function at(){return function(e){var t=ot;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Fe(String(Qe)).split("."),n=Fe("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ve(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ve(0==o[2].length,0==a[2].length)||Ve(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(ye.document&&$e){var st=et();it=st||(parseInt(Qe,10)||void 0)}else it=void 0;var ut=it,ct=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ye.addEventListener("test",be,t),ye.removeEventListener("test",be,t)}catch(n){}return e}();function lt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ft(e,t){if(lt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Je){e:{try{We(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ht[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ft.Z.h.call(this)}}lt.prototype.h=function(){this.defaultPrevented=!0},Ne(ft,lt);var ht={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function gt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++pt,this.ca=this.fa=!1}function vt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function mt(e){this.src=e,this.g={},this.h=0}function yt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ae(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(vt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}mt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=bt(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new gt(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var wt="closure_lm_"+(1e6*Math.random()|0),_t={};function Et(e,t,n,r,i){if(r&&r.once)return Tt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Et(e,t[o],n,r,i);return null}return n=At(n),e&&e[dt]?e.N(t,n,_e(r)?!!r.capture:!!r,i):St(e,t,n,!1,r,i)}function St(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=_e(i)?!!i.capture:!!i,s=Ct(e);if(s||(e[wt]=s=new mt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nt;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ct||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Tt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Tt(e,t[o],n,r,i);return null}return n=At(n),e&&e[dt]?e.O(t,n,_e(r)?!!r.capture:!!r,i):St(e,t,n,!0,r,i)}function kt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)kt(e,t[o],n,r,i);else r=_e(r)?!!r.capture:!!r,n=At(n),e&&e[dt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bt(o=e.g[t],n,r,i))&&(vt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ct(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bt(t,n,r,i)),(n=-1<e?t[e]:null)&&It(n))}function It(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[dt])yt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ct(t))?(yt(n,e),0==n.h&&(n.src=null,t[wt]=null)):vt(e)}}}function xt(e){return e in _t?_t[e]:_t[e]="on"+e}function Nt(e,t){if(e.ca)e=!0;else{t=new ft(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&It(e),e=n.call(r,t)}return e}function Ct(e){return(e=e[wt])instanceof mt?e:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(e){return"function"===typeof e?e:(e[Ot]||(e[Ot]=function(t){return e.handleEvent(t)}),e[Ot])}function Dt(){Ce.call(this),this.i=new mt(this),this.P=this,this.I=null}function Pt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new lt(t,e);else if(t instanceof lt)t.target=t.target||e;else{var i=t;He(t=new lt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Rt(a,r,!0,t)&&i}if(i=Rt(a=t.g=e,r,!0,t)&&i,i=Rt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Rt(a=t.g=n[o],r,!1,t)&&i}function Rt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&yt(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ne(Dt,Ce),Dt.prototype[dt]=!0,Dt.prototype.removeEventListener=function(e,t,n,r){kt(this,e,t,n,r)},Dt.prototype.M=function(){if(Dt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vt(n[r]);delete t.g[e],t.h--}}this.I=null},Dt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Lt=ye.JSON.stringify;function jt(){var e=Kt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ft,Mt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Vt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Vt=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ut}),(function(e){return e.reset()})),Ut=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Bt(e){ye.setTimeout((function(){throw e}),0)}function zt(e,t){Ft||function(){var e=ye.Promise.resolve(void 0);Ft=function(){e.then(Ht)}}(),qt||(Ft(),qt=!0),Kt.add(e,t)}var qt=!1,Kt=new Mt;function Ht(){for(var e;e=jt();){try{e.h.call(e.g)}catch(n){Bt(n)}var t=Vt;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qt=!1}function Wt(e,t){Dt.call(this),this.h=e||1,this.g=t||ye,this.j=Ie(this.kb,this),this.l=Date.now()}function Qt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Gt(e,t,n){if("function"===typeof e)n&&(e=Ie(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ie(e.handleEvent,e)}return 2147483647<Number(t)?-1:ye.setTimeout(e,t||0)}function $t(e){e.g=Gt((function(){e.g=null,e.i&&(e.i=!1,$t(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ne(Wt,Dt),(ge=Wt.prototype).da=!1,ge.S=null,ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pt(this,"tick"),this.da&&(Qt(this),this.start()))}},ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){Wt.Z.M.call(this),Qt(this),delete this.g};var Yt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:$t(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ce);function Xt(e){Ce.call(this),this.h=e,this.g={}}Ne(Xt,Ce);var Jt=[];function Zt(e,t,n,r){Array.isArray(n)||(n&&(Jt[0]=n.toString()),n=Jt);for(var i=0;i<n.length;i++){var o=Et(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function en(e){ze(e.g,(function(e,t){this.g.hasOwnProperty(t)&&It(e)}),e),e.g={}}function tn(){this.g=!0}function nn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Lt(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Xt.prototype.M=function(){Xt.Z.M.call(this),en(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tn.prototype.Aa=function(){this.g=!1},tn.prototype.info=function(){};var rn={},on=null;function an(){return on=on||new Dt}function sn(e){lt.call(this,rn.Ma,e)}function un(e){var t=an();Pt(t,new sn(t,e))}function cn(e,t){lt.call(this,rn.STAT_EVENT,e),this.stat=t}function ln(e){var t=an();Pt(t,new cn(t,e))}function fn(e,t){lt.call(this,rn.Na,e),this.size=t}function hn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ye.setTimeout((function(){e()}),t)}rn.Ma="serverreachability",Ne(sn,lt),rn.STAT_EVENT="statevent",Ne(cn,lt),rn.Na="timingevent",Ne(fn,lt);var dn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gn(){}function vn(e){return e.h||(e.h=e.i())}function mn(){}gn.prototype.h=null;var yn,bn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wn(){lt.call(this,"d")}function _n(){lt.call(this,"c")}function En(){}function Sn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xt(this),this.P=kn,e=Xe?125:void 0,this.W=new Wt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}Ne(wn,lt),Ne(_n,lt),Ne(En,gn),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},yn=new En;var kn=45e3,In={},xn={};function Nn(e,t,n){e.K=1,e.v=Xn(Hn(t)),e.s=n,e.U=!0,Cn(e,null)}function Cn(e,t){e.F=Date.now(),Pn(e),e.A=Hn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),lr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Tn,e.g=hi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yt(Ie(e.Ia,e,e.g),e.O)),Zt(e.V,e.g,"readystatechange",e.gb),t=e.H?qe(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),un(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function On(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function An(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Dn(e,n))==xn){4==t&&(e.o=4,ln(14),i=!1),nn(e.j,e.m,null,"[Incomplete Response]");break}if(r==In){e.o=4,ln(15),nn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}nn(e.j,e.m,r,null),Mn(e,r)}On(e)&&r!=xn&&r!=In&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ln(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ii(t),t.L=!0,ln(11))):(nn(e.j,e.m,n,"[Invalid Chunked Response]"),Fn(e),jn(e))}function Dn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xn:(n=Number(t.substring(n,r)),isNaN(n)?In:(r+=1)+n>t.length?xn:(t=t.substr(r,n),e.C=r+n,t))}function Pn(e){e.Y=Date.now()+e.P,Rn(e,e.P)}function Rn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hn(Ie(e.eb,e),t)}function Ln(e){e.B&&(ye.clearTimeout(e.B),e.B=null)}function jn(e){0==e.l.G||e.I||si(e.l,e)}function Fn(e){Ln(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qt(e.W),en(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yr(n.i,e)))if(n.I=e.N,!e.J&&yr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ai(n),$r(n)}ri(n),ln(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hn(Ie(n.ab,n),6e3));if(1>=mr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ci(n,11)}else if((e.J||n.g==e)&&ai(n),!Le(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Me(l,"spdy")||Me(l,"quic")||Me(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(br(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Yn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=fi(r,r.H?r.la:null,r.W),d.J){wr(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(Ln(p),Pn(p)),r.g=d}else ni(r);0<n.l.length&&Jr(n)}else"stop"!=o[0]&&"close"!=o[0]||ci(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ci(n,7):Gr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}un(4)}catch(o){}}function Vn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(we(e)||"string"===typeof e)De(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(we(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(we(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Un(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Un)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)zn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ge=Sn.prototype).setTimeout=function(e){this.P=e},ge.gb=function(e){e=e.target;var t=this.L;t&&3==qr(e)?t.l():this.Ia(e)},ge.Ia=function(e){try{if(e==this.g)e:{var t=qr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xe||this.g&&(this.h.h||this.g.ga()||Kr(this.g)))){this.I||4!=t||7==n||un(8==n||0>=r?3:2),Ln(this);var i=this.g.ba();this.N=i;t:if(On(this)){var o=Kr(this.g);e="";var a=o.length,s=4==qr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fn(this),jn(this);var u="";break t}this.h.i=new ye.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ln(12),Fn(this),jn(this);break e}nn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mn(this,i)}this.U?(An(this,t,u),Xe&&this.i&&3==t&&(Zt(this.V,this.W,"tick",this.fb),this.W.start())):(nn(this.j,this.m,u,null),Mn(this,u)),4==t&&Fn(this),this.i&&!this.I&&(4==t?si(this.l,this):(this.i=!1,Pn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Fn(this),jn(this)}}}catch(t){}},ge.fb=function(){if(this.g){var e=qr(this.g),t=this.g.ga();this.C<t.length&&(Ln(this),An(this,e,t),this.i&&4!=e&&Pn(this))}},ge.cancel=function(){this.I=!0,Fn(this)},ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(un(3),ln(17)),Fn(this),this.o=2,jn(this)):Rn(this,this.Y-e)},(ge=Un.prototype).R=function(){Bn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ge.T=function(){return Bn(this),this.g.concat()},ge.get=function(e,t){return zn(this.h,e)?this.h[e]:t},ge.set=function(e,t){zn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ge.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var qn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kn){this.g=void 0!==t?t:e.g,Wn(this,e.j),this.s=e.s,Qn(this,e.i),Gn(this,e.m),this.l=e.l,t=e.h;var n=new ar;n.i=t.i,t.g&&(n.g=new Un(t.g),n.h=t.h),$n(this,n),this.o=e.o}else e&&(n=String(e).match(qn))?(this.g=!!t,Wn(this,n[1]||"",!0),this.s=Jn(n[2]||""),Qn(this,n[3]||"",!0),Gn(this,n[4]),this.l=Jn(n[5]||"",!0),$n(this,n[6]||"",!0),this.o=Jn(n[7]||"")):(this.g=!!t,this.h=new ar(null,this.g))}function Hn(e){return new Kn(e)}function Wn(e,t,n){e.j=n?Jn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qn(e,t,n){e.i=n?Jn(t,!0):t}function Gn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $n(e,t,n){t instanceof ar?(e.h=t,function(e,t){t&&!e.j&&(sr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ur(this,t),lr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Zn(t,ir)),e.h=new ar(t,e.g))}function Yn(e,t,n){e.h.set(t,n)}function Xn(e){return Yn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,er),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function er(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zn(t,tr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zn(t,tr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zn(n,"/"==n.charAt(0)?rr:nr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zn(n,or)),e.join("")};var tr=/[#\/\?@]/g,nr=/[#\?:]/g,rr=/[#\?]/g,ir=/[#\?@]/g,or=/#/g;function ar(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sr(e){e.g||(e.g=new Un,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ur(e,t){sr(e),t=fr(e,t),zn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,zn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bn(e)))}function cr(e,t){return sr(e),t=fr(e,t),zn(e.g.h,t)}function lr(e,t,n){ur(e,t),0<n.length&&(e.i=null,e.g.set(fr(e,t),Re(n)),e.h+=n.length)}function fr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ge=ar.prototype).add=function(e,t){sr(this),this.i=null,e=fr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ge.forEach=function(e,t){sr(this),this.g.forEach((function(n,r){De(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ge.T=function(){sr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ge.R=function(e){sr(this);var t=[];if("string"===typeof e)cr(this,e)&&(t=Pe(t,this.g.get(fr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Pe(t,e[n])}return t},ge.set=function(e,t){return sr(this),this.i=null,cr(this,e=fr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ge.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var hr=function(e,t){this.h=e,this.g=t};function dr(e){this.l=e||gr,ye.PerformanceNavigationTiming?e=0<(e=ye.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ye.g&&ye.g.Ea&&ye.g.Ea()&&ye.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pr,gr=10;function vr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mr(e){return e.h?1:e.g?e.g.size:0}function yr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function br(e,t){e.g?e.g.add(t):e.h=t}function wr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function _r(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=pe(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Re(e.i)}function Er(){}function Sr(){this.g=new Er}function Tr(e,t,n){var r=n||"";try{Vn(e,(function(e,n){var i=e;_e(e)&&(i=Lt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Up){throw t.push(r+"type="+encodeURIComponent("_badmap")),Up}}function kr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ir(e){this.l=e.$b||null,this.j=e.ib||!1}function xr(e,t){Dt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dr.prototype.cancel=function(){var e,t;if(this.i=_r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=pe(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Er.prototype.stringify=function(e){return ye.JSON.stringify(e,void 0)},Er.prototype.parse=function(e){return ye.JSON.parse(e,void 0)},Ne(Ir,gn),Ir.prototype.g=function(){return new xr(this.l,this.j)},Ir.prototype.i=(pr={},function(){return pr}),Ne(xr,Dt);var Nr=0;function Cr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Or(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ar(e)}function Ar(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ge=xr.prototype).open=function(e,t){if(this.readyState!=Nr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ar(this)},ge.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ye).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Or(this)),this.readyState=Nr},ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ye.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Or(this):Ar(this),3==this.readyState&&Cr(this)}},ge.Ua=function(e){this.g&&(this.response=this.responseText=e,Or(this))},ge.Ta=function(e){this.g&&(this.response=e,Or(this))},ge.ha=function(){this.g&&Or(this)},ge.setRequestHeader=function(e,t){this.v.append(e,t)},ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Dr=ye.JSON.parse;function Pr(e){Dt.call(this),this.headers=new Un,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rr,this.K=this.L=!1}Ne(Pr,Dt);var Rr="",Lr=/^https?$/i,jr=["POST","PUT"];function Fr(e){return"content-type"==e.toLowerCase()}function Mr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vr(e),Br(e)}function Vr(e){e.D||(e.D=!0,Pt(e,"complete"),Pt(e,"error"))}function Ur(e){if(e.h&&"undefined"!=typeof me&&(!e.C[1]||4!=qr(e)||2!=e.ba()))if(e.v&&4==qr(e))Gt(e.Fa,0,e);else if(Pt(e,"readystatechange"),4==qr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(qn)[1]||null;if(!o&&ye.self&&ye.self.location){var a=ye.self.location.protocol;o=a.substr(0,a.length-1)}i=!Lr.test(o?o.toLowerCase():"")}t=i}if(t)Pt(e,"complete"),Pt(e,"success");else{e.m=6;try{var s=2<qr(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Vr(e)}}finally{Br(e)}}}function Br(e,t){if(e.g){zr(e);var n=e.g,r=e.C[0]?be:null;e.g=null,e.C=null,t||Pt(e,"ready");try{n.onreadystatechange=r}catch(Up){}}}function zr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ye.clearTimeout(e.A),e.A=null)}function qr(e){return e.g?e.g.readyState:0}function Kr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Rr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Hr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ze(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yn(e,t,n))}function Wr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qr(e){this.za=0,this.l=[],this.h=new tn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wr("baseRetryDelayMs",5e3,e),this.$a=Wr("retryDelaySeedMs",1e4,e),this.Ya=Wr("forwardChannelMaxRetries",2,e),this.ra=Wr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new dr(e&&e.concurrentRequestLimit),this.Ca=new Sr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gr(e){if(Yr(e),3==e.G){var t=e.V++,n=Hn(e.F);Yn(n,"SID",e.J),Yn(n,"RID",t),Yn(n,"TYPE","terminate"),ei(e,n),(t=new Sn(e,e.h,t,void 0)).K=2,t.v=Xn(Hn(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon&&(n=ye.navigator.sendBeacon(t.v.toString(),"")),!n&&ye.Image&&((new Image).src=t.v,n=!0),n||(t.g=hi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pn(t)}li(e)}function $r(e){e.g&&(ii(e),e.g.cancel(),e.g=null)}function Yr(e){$r(e),e.u&&(ye.clearTimeout(e.u),e.u=null),ai(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ye.clearTimeout(e.m),e.m=null)}function Xr(e,t){e.l.push(new hr(e.Za++,t)),3==e.G&&Jr(e)}function Jr(e){vr(e.i)||e.m||(e.m=!0,zt(e.Ha,e),e.C=0)}function Zr(e,t){var n;n=t?t.m:e.V++;var r=Hn(e.F);Yn(r,"SID",e.J),Yn(r,"RID",n),Yn(r,"AID",e.U),ei(e,r),e.o&&e.s&&Hr(r,e.o,e.s),n=new Sn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ti(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),br(e.i,n),Nn(n,r,t)}function ei(e,t){e.j&&Vn({},(function(e,n){Yn(t,n,e)}))}function ti(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ie(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Tr(l,a,"req"+c+"_")}catch(Qi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ni(e){e.g||e.u||(e.Y=1,zt(e.Ga,e),e.A=0)}function ri(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=hn(Ie(e.Ga,e),ui(e,e.A)),e.A++,!0)}function ii(e){null!=e.B&&(ye.clearTimeout(e.B),e.B=null)}function oi(e){e.g=new Sn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Hn(e.oa);Yn(t,"RID","rpc"),Yn(t,"SID",e.J),Yn(t,"CI",e.N?"0":"1"),Yn(t,"AID",e.U),ei(e,t),Yn(t,"TYPE","xmlhttp"),e.o&&e.s&&Hr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xn(Hn(t)),n.s=null,n.U=!0,Cn(n,e)}function ai(e){null!=e.v&&(ye.clearTimeout(e.v),e.v=null)}function si(e,t){var n=null;if(e.g==t){ai(e),ii(e),e.g=null;var r=2}else{if(!yr(e.i,t))return;n=t.D,wr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pt(r=an(),new fn(r,n,t,i)),Jr(e)}else ni(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(mr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=hn(Ie(e.Ha,e,t),ui(e,e.C)),e.C++,!0))}(e,t)||2==r&&ri(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ci(e,5);break;case 4:ci(e,10);break;case 3:ci(e,6);break;default:ci(e,2)}}function ui(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ci(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ie(e.jb,e);n||(n=new Kn("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||Wn(n,"https"),Xn(n)),function(e,t){var n=new tn;if(ye.Image){var r=new Image;r.onload=xe(kr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xe(kr,n,r,"TestLoadImage: error",!1,t),r.onabort=xe(kr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xe(kr,n,r,"TestLoadImage: timeout",!1,t),ye.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ln(2);e.G=0,e.j&&e.j.va(t),li(e),Yr(e)}function li(e){e.G=0,e.I=-1,e.j&&(0==_r(e.i).length&&0==e.l.length||(e.i.i.length=0,Re(e.l),e.l.length=0),e.j.ua())}function fi(e,t,n){var r=function(e){return e instanceof Kn?Hn(e):new Kn(e,void 0)}(n);if(""!=r.i)t&&Qn(r,t+"."+r.i),Gn(r,r.m);else{var i=ye.location;r=function(e,t,n,r){var i=new Kn(null,void 0);return e&&Wn(i,e),t&&Qn(i,t),n&&Gn(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ze(e.aa,(function(e,t){Yn(r,t,e)})),t=e.D,n=e.sa,t&&n&&Yn(r,t,n),Yn(r,"VER",e.ma),ei(e,r),r}function hi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Pr(new Ir({ib:!0})):new Pr(e.qa)).L=e.H,t}function di(){}function pi(){if($e&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function gi(e,t){Dt.call(this),this.g=new Qr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Le(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Le(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yi(this)}function vi(e){wn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mi(){_n.call(this),this.status=1}function yi(e){this.g=e}(ge=Pr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yn.g(),this.C=this.u?vn(this.u):vn(yn),this.g.onreadystatechange=Ie(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Mr(this,o)}e=n||"";var i=new Un(this.headers);r&&Vn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Fr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ye.FormData&&e instanceof ye.FormData,!(0<=Ae(jr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zr(this),0<this.B&&((this.K=function(e){return $e&&at()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.pa,this)):this.A=Gt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Mr(this,o)}},ge.pa=function(){"undefined"!=typeof me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pt(this,"complete"),Pt(this,"abort"),Br(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Br(this,!0)),Pr.Z.M.call(this)},ge.Fa=function(){this.s||(this.F||this.v||this.l?Ur(this):this.cb())},ge.cb=function(){Ur(this)},ge.ba=function(){try{return 2<qr(this)?this.g.status:-1}catch(pr){return-1}},ge.ga=function(){try{return this.g?this.g.responseText:""}catch(pr){return""}},ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Dr(t)}},ge.Da=function(){return this.m},ge.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ge=Qr.prototype).ma=8,ge.G=1,ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ge.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?He(n=qe(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ti(this,t,r),Yn(i=Hn(this.F),"RID",e),Yn(i,"CVER",22),this.D&&Yn(i,"X-HTTP-Session-Id",this.D),ei(this,i),this.o&&n&&Hr(i,this.o,n),br(this.i,t),this.Ra&&Yn(i,"TYPE","init"),this.ja?(Yn(i,"$req",r),Yn(i,"SID","null"),t.$=!0,Nn(t,i,null)):Nn(t,i,r),this.G=2}}else 3==this.G&&(e?Zr(this,e):0==this.l.length||vr(this.i)||Zr(this))},ge.Ga=function(){if(this.u=null,oi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=hn(Ie(this.bb,this),e)}},ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ln(10),$r(this),oi(this))},ge.ab=function(){null!=this.v&&(this.v=null,$r(this),ri(this),ln(19))},ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ln(2)):(this.h.info("Failed to ping google.com"),ln(1))},(ge=di.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Oa=function(){},pi.prototype.g=function(e,t){return new gi(e,t)},Ne(gi,Dt),gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),zt(Ie(e.hb,e,t))),ln(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fi(e,null,e.W),Jr(e)},gi.prototype.close=function(){Gr(this.g)},gi.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Xr(this.g,t)}else this.v?((t={}).__data__=Lt(e),Xr(this.g,t)):Xr(this.g,e)},gi.prototype.M=function(){this.g.j=null,delete this.j,Gr(this.g),delete this.g,gi.Z.M.call(this)},Ne(vi,wn),Ne(mi,_n),Ne(yi,di),yi.prototype.xa=function(){Pt(this.g,"a")},yi.prototype.wa=function(e){Pt(this.g,new vi(e))},yi.prototype.va=function(e){Pt(this.g,new mi(e))},yi.prototype.ua=function(){Pt(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,gi.prototype.send=gi.prototype.u,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,pn.COMPLETE="complete",mn.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.La,Pr.prototype.getLastErrorCode=Pr.prototype.Da,Pr.prototype.getStatus=Pr.prototype.ba,Pr.prototype.getResponseJson=Pr.prototype.Qa,Pr.prototype.getResponseText=Pr.prototype.ga,Pr.prototype.send=Pr.prototype.ea;var bi=function(){return new pi},wi=function(){return an()},_i=dn,Ei=pn,Si=rn,Ti={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ki=Ir,Ii=mn,xi=Pr,Ni=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Ni.o=-1;var Ci={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return d(t,e),t}(Error),Ai=new $("@firebase/firestore");function Di(){return Ai.logLevel}function Pi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=z.DEBUG){var r=t.map(ji);Ai.debug.apply(Ai,b(["Firestore (8.10.1): "+e],r))}}function Ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=z.ERROR){var r=t.map(ji);Ai.error.apply(Ai,b(["Firestore (8.10.1): "+e],r))}}function Li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=z.WARN){var r=t.map(ji);Ai.warn.apply(Ai,b(["Firestore (8.10.1): "+e],r))}}function ji(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fi(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ri(t),new Error(t)}function Mi(e,t){e||Fi()}function Vi(e,t){return e}function Ui(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bi=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ui(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function zi(e,t){return e<t?-1:e>t?1:0}function qi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ki(e){return e+"\0"}var Hi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oi(Ci.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oi(Ci.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oi(Ci.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oi(Ci.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?zi(this.nanoseconds,e.nanoseconds):zi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Wi=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Hi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Qi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Fi(),void 0===n?n=e.length-t:n>e.length-t&&Fi(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Yi),Ji=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ji.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Oi(Ci.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Oi(Ci.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Oi(Ci.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Yi),eo=function(){function e(e){this.fields=e,e.sort(Zi.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return qi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),to=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return zi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();to.EMPTY_BYTE_STRING=new to("");var no=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(e){if(Mi(!!e),"string"==typeof e){var t=0,n=no.exec(e);if(Mi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:io(e.seconds),nanos:io(e.nanos)}}function io(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oo(e){return"string"==typeof e?to.fromBase64String(e):to.fromUint8Array(e)}function ao(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function so(e){var t=e.mapValue.fields.__previous_value__;return ao(t)?so(t):t}function uo(e){var t=ro(e.mapValue.fields.__local_write_time__.timestampValue);return new Hi(t.seconds,t.nanos)}function co(e){return null==e}function lo(e){return 0===e&&1/e==-1/0}function fo(e){return"number"==typeof e&&Number.isInteger(e)&&!lo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ho=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Xi.fromString(t))},e.fromName=function(t){return new e(Xi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Xi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Xi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Xi(t.slice()))},e}();function po(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ao(e)?4:10:Fi()}function go(e,t){var n=po(e);if(n!==po(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uo(e).isEqual(uo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ro(e.timestampValue),r=ro(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return oo(e.bytesValue).isEqual(oo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return io(e.geoPointValue.latitude)===io(t.geoPointValue.latitude)&&io(e.geoPointValue.longitude)===io(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return io(e.integerValue)===io(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=io(e.doubleValue),r=io(t.doubleValue);return n===r?lo(n)===lo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qi(e.arrayValue.values||[],t.arrayValue.values||[],go);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qi(n)!==Qi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!go(n[i],r[i])))return!1;return!0}(e,t);default:return Fi()}}function vo(e,t){return void 0!==(e.values||[]).find((function(e){return go(e,t)}))}function mo(e,t){var n=po(e),r=po(t);if(n!==r)return zi(n,r);switch(n){case 0:return 0;case 1:return zi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=io(e.integerValue||e.doubleValue),r=io(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yo(e.timestampValue,t.timestampValue);case 4:return yo(uo(e),uo(t));case 5:return zi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=oo(e),r=oo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zi(n[i],r[i]);if(0!==o)return o}return zi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zi(io(e.latitude),io(t.latitude));return 0!==n?n:zi(io(e.longitude),io(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=mo(n[i],r[i]);if(o)return o}return zi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=zi(r[a],o[a]);if(0!==s)return s;var u=mo(n[r[a]],i[o[a]]);if(0!==u)return u}return zi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fi()}}function yo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zi(e,t);var n=ro(e),r=ro(t),i=zi(n.seconds,r.seconds);return 0!==i?i:zi(n.nanos,r.nanos)}function bo(e){return wo(e)}function wo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ro(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?oo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ho.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=wo(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+wo(e.fields[o])}return t+"}"}(e.mapValue):Fi();var t,n}function _o(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Eo(e){return!!e&&"integerValue"in e}function So(e){return!!e&&"arrayValue"in e}function To(e){return!!e&&"nullValue"in e}function ko(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Io(e){return!!e&&"mapValue"in e}function xo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gi(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var No=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Io(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(t)},e.prototype.setAll=function(e){var t=this,n=Zi.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=xo(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Io(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return go(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Io(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Gi(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(xo(this.value))},e}();function Co(e){var t=[];return Gi(e.fields,(function(e,n){var r=new Zi([e]);if(Io(n)){var i=Co(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new eo(t)}var Oo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Wi.min(),No.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,No.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,No.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=No.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=No.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ao=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Do(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ao(e,t,n,r,i,o,a)}function Po(e){var t=Vi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+bo(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),co(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Wo(t.startAt)),t.endAt&&(n+="|ub:",n+=Wo(t.endAt)),t.h=n}return t.h}function Ro(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Go(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!go(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yo(e.startAt,t.startAt)&&Yo(e.endAt,t.endAt)}function Lo(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var jo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return d(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Fo(e,n,r):"array-contains"===n?new Bo(e,r):"in"===n?new zo(e,r):"not-in"===n?new qo(e,r):"array-contains-any"===n?new Ko(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Mo(e,n):new Vo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(mo(t,this.value)):null!==t&&po(this.value)===po(t)&&this.m(mo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fi()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Fo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ho.fromName(r.referenceValue),i}return d(t,e),t.prototype.matches=function(e){var t=ho.comparator(e.key,this.key);return this.m(t)},t}(jo),Mo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Uo("in",n),r}return d(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jo),Vo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Uo("not-in",n),r}return d(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(jo);function Uo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ho.fromName(e.referenceValue)}))}var Bo=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return So(t)&&vo(t.arrayValue,this.value)},t}(jo),zo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return d(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&vo(this.value.arrayValue,t)},t}(jo),qo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return d(t,e),t.prototype.matches=function(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vo(this.value.arrayValue,t)},t}(jo),Ko=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return d(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!So(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vo(t.value.arrayValue,e)}))},t}(jo),Ho=function(e,t){this.position=e,this.before=t};function Wo(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return bo(e)})).join(",")}var Qo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Go(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $o(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ho.comparator(ho.fromName(a.referenceValue),n.key):mo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!go(e.position[n],t.position[n]))return!1;return!0}var Xo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Jo(e,t,n,r,i,o,a,s){return new Xo(e,t,n,r,i,o,a,s)}function Zo(e){return new Xo(e)}function ea(e){return!co(e.limit)&&"F"===e.limitType}function ta(e){return!co(e.limit)&&"L"===e.limitType}function na(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ra(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ia(e){return null!==e.collectionGroup}function oa(e){var t=Vi(e);if(null===t.p){t.p=[];var n=ra(t),r=na(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Qo(n)),t.p.push(new Qo(Zi.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Qo(Zi.keyField(),u))}}}return t.p}function aa(e){var t=Vi(e);if(!t.T)if("F"===t.limitType)t.T=Do(t.path,t.collectionGroup,oa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=oa(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Qo(o.field,a))}var s=t.endAt?new Ho(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ho(t.startAt.position,!t.startAt.before):null;t.T=Do(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function sa(e,t,n){return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ua(e,t){return Ro(aa(e),aa(t))&&e.limitType===t.limitType}function ca(e){return Po(aa(e))+"|lt:"+e.limitType}function la(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+bo(t.value);var t})).join(", ")+"]"),co(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Wo(e.startAt)),e.endAt&&(t+=", endAt: "+Wo(e.endAt)),"Target("+t+")"}(aa(e))+"; limitType="+e.limitType+")"}function fa(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ho.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!$o(e.startAt,oa(e),t))&&(!e.endAt||!$o(e.endAt,oa(e),t))}(e,t)}function ha(e){return function(t,n){for(var r=!1,i=0,o=oa(e);i<o.length;i++){var a=o[i],s=da(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function da(e,t,n){var r=e.field.isKeyField()?ho.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mo(r,i):Fi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fi()}}function pa(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lo(t)?"-0":t}}function ga(e){return{integerValue:""+e}}function va(e,t){return fo(t)?ga(t):pa(e,t)}var ma=function(){this._=void 0};function ya(e,t,n){return e instanceof _a?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ea?Sa(e,t):e instanceof Ta?ka(e,t):function(e,t){var n=wa(e,t),r=xa(n)+xa(e.A);return Eo(n)&&Eo(e.A)?ga(r):pa(e.R,r)}(e,t)}function ba(e,t,n){return e instanceof Ea?Sa(e,t):e instanceof Ta?ka(e,t):n}function wa(e,t){return e instanceof Ia?Eo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var _a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(ma),Ea=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(ma);function Sa(e,t){for(var n=Na(t),r=function(e){n.some((function(t){return go(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ta=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return d(t,e),t}(ma);function ka(e,t){for(var n=Na(t),r=function(e){n=n.filter((function(t){return!go(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ia=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return d(t,e),t}(ma);function xa(e){return io(e.integerValue||e.doubleValue)}function Na(e){return So(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ca=function(e,t){this.field=e,this.transform=t},Oa=function(e,t){this.version=e,this.transformResults=t},Aa=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Da(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pa=function(){};function Ra(e,t,n){e instanceof Va?function(e,t,n){var r=e.value.clone(),i=za(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ua?function(e,t,n){if(Da(e.precondition,t)){var r=za(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ba(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n){e instanceof Va?function(e,t,n){if(Da(e.precondition,t)){var r=e.value.clone(),i=qa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ma(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ua?function(e,t,n){if(Da(e.precondition,t)){var r=qa(e.fieldTransforms,n,t),i=t.data;i.setAll(Ba(e)),i.setAll(r),t.convertToFoundDocument(Ma(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Da(e.precondition,t)&&t.convertToNoDocument(Wi.min())}(e,t)}function ja(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=wa(o.transform,a||null);null!=s&&(null==n&&(n=No.empty()),n.set(o.field,s))}return n||null}function Fa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ea&&t instanceof Ea||e instanceof Ta&&t instanceof Ta?qi(e.elements,t.elements,go):e instanceof Ia&&t instanceof Ia?go(e.A,t.A):e instanceof _a&&t instanceof _a}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ma(e){return e.isFoundDocument()?e.version:Wi.min()}var Va=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return d(t,e),t}(Pa),Ua=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return d(t,e),t}(Pa);function Ba(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function za(e,t,n){var r=new Map;Mi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ba(a,s,n[i]))}return r}function qa(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ya(s,u,t))}return r}var Ka,Ha,Wa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return d(t,e),t}(Pa),Qa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return d(t,e),t}(Pa),Ga=function(e){this.count=e};function $a(e){switch(e){case Ci.OK:return Fi();case Ci.CANCELLED:case Ci.UNKNOWN:case Ci.DEADLINE_EXCEEDED:case Ci.RESOURCE_EXHAUSTED:case Ci.INTERNAL:case Ci.UNAVAILABLE:case Ci.UNAUTHENTICATED:return!1;case Ci.INVALID_ARGUMENT:case Ci.NOT_FOUND:case Ci.ALREADY_EXISTS:case Ci.PERMISSION_DENIED:case Ci.FAILED_PRECONDITION:case Ci.ABORTED:case Ci.OUT_OF_RANGE:case Ci.UNIMPLEMENTED:case Ci.DATA_LOSS:return!0;default:return Fi()}}function Ya(e){if(void 0===e)return Ri("GRPC error has no .code"),Ci.UNKNOWN;switch(e){case Ka.OK:return Ci.OK;case Ka.CANCELLED:return Ci.CANCELLED;case Ka.UNKNOWN:return Ci.UNKNOWN;case Ka.DEADLINE_EXCEEDED:return Ci.DEADLINE_EXCEEDED;case Ka.RESOURCE_EXHAUSTED:return Ci.RESOURCE_EXHAUSTED;case Ka.INTERNAL:return Ci.INTERNAL;case Ka.UNAVAILABLE:return Ci.UNAVAILABLE;case Ka.UNAUTHENTICATED:return Ci.UNAUTHENTICATED;case Ka.INVALID_ARGUMENT:return Ci.INVALID_ARGUMENT;case Ka.NOT_FOUND:return Ci.NOT_FOUND;case Ka.ALREADY_EXISTS:return Ci.ALREADY_EXISTS;case Ka.PERMISSION_DENIED:return Ci.PERMISSION_DENIED;case Ka.FAILED_PRECONDITION:return Ci.FAILED_PRECONDITION;case Ka.ABORTED:return Ci.ABORTED;case Ka.OUT_OF_RANGE:return Ci.OUT_OF_RANGE;case Ka.UNIMPLEMENTED:return Ci.UNIMPLEMENTED;case Ka.DATA_LOSS:return Ci.DATA_LOSS;default:return Fi()}}(Ha=Ka||(Ka={}))[Ha.OK=0]="OK",Ha[Ha.CANCELLED=1]="CANCELLED",Ha[Ha.UNKNOWN=2]="UNKNOWN",Ha[Ha.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ha[Ha.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ha[Ha.NOT_FOUND=5]="NOT_FOUND",Ha[Ha.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ha[Ha.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ha[Ha.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ha[Ha.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ha[Ha.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ha[Ha.ABORTED=10]="ABORTED",Ha[Ha.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ha[Ha.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ha[Ha.INTERNAL=13]="INTERNAL",Ha[Ha.UNAVAILABLE=14]="UNAVAILABLE",Ha[Ha.DATA_LOSS=15]="DATA_LOSS";var Xa=function(){function e(e,t){this.comparator=e,this.root=t||Za.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Za.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Za.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ja(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ja(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ja(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ja(this.root,e,this.comparator,!0)},e}(),Ja=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Za=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fi();if(this.right.isRed())throw Fi();var e=this.left.check();if(e!==this.right.check())throw Fi();return e+(this.isRed()?0:1)},e}();Za.EMPTY=null,Za.RED=!0,Za.BLACK=!1,Za.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Fi()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Za(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var es=function(){function e(e){this.comparator=e,this.data=new Xa(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new ts(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ts(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ts=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ns=new Xa(ho.comparator);function rs(){return ns}var is=new Xa(ho.comparator);function os(){return is}var as=new Xa(ho.comparator);function ss(){return as}var us=new es(ho.comparator);function cs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=us,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ls=new es(zi);function fs(){return ls}var hs=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ds.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Wi.min(),r,fs(),rs(),cs())},e}(),ds=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(to.EMPTY_BYTE_STRING,n,cs(),cs(),cs())},e}(),ps=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},gs=function(e,t){this.targetId=e,this.V=t},vs=function(e,t,n,r){void 0===n&&(n=to.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ms=function(){function e(){this.S=0,this.D=ws(),this.C=to.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=cs(),t=cs(),n=cs();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fi()}})),new ds(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=ws()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ys=function(){function e(e){this.W=e,this.G=new Map,this.H=rs(),this.J=bs(),this.Y=new es(zi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Fi()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Lo(i))if(0===n){var o=new ho(i.path);this.tt(t,o,Oo.newNoDocument(o,Wi.min()))}else Mi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Lo(o.target)){var a=new ho(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Oo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=cs();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new hs(e,n,this.Y,this.H,r);return this.H=rs(),this.J=bs(),this.Y=new es(zi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ms,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new es(zi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Pi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ms),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function bs(){return new Xa(ho.comparator)}function ws(){return new Xa(ho.comparator)}var _s={asc:"ASCENDING",desc:"DESCENDING"},Es={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ss=function(e,t){this.databaseId=e,this.I=t};function Ts(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ks(e,t){return e.I?t.toBase64():t.toUint8Array()}function Is(e,t){return Ts(e,t.toTimestamp())}function xs(e){return Mi(!!e),Wi.fromTimestamp(function(e){var t=ro(e);return new Hi(t.seconds,t.nanos)}(e))}function Ns(e,t){return function(e){return new Xi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cs(e){var t=Xi.fromString(e);return Mi(Zs(t)),t}function Os(e,t){return Ns(e.databaseId,t.path)}function As(e,t){var n=Cs(t);if(n.get(1)!==e.databaseId.projectId)throw new Oi(Ci.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oi(Ci.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ho(Ls(n))}function Ds(e,t){return Ns(e.databaseId,t)}function Ps(e){var t=Cs(e);return 4===t.length?Xi.emptyPath():Ls(t)}function Rs(e){return new Xi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ls(e){return Mi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function js(e,t,n){return{name:Os(e,t),fields:n.value.mapValue.fields}}function Fs(e,t,n){var r=As(e,t.name),i=xs(t.updateTime),o=new No({mapValue:{fields:t.fields}}),a=Oo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ms(e,t){var n;if(t instanceof Va)n={update:js(e,t.key,t.value)};else if(t instanceof Wa)n={delete:Os(e,t.key)};else if(t instanceof Ua)n={update:js(e,t.key,t.data),updateMask:Js(t.fieldMask)};else{if(!(t instanceof Qa))return Fi();n={verify:Os(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _a)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ia)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Fi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Is(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fi()}(e,t.precondition)),n}function Vs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Aa.updateTime(xs(e.updateTime)):void 0!==e.exists?Aa.exists(e.exists):Aa.none()}(t.currentDocument):Aa.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mi("REQUEST_TIME"===t.setToServerValue),n=new _a;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ea(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ta(i)}else"increment"in t?n=new Ia(e,t.increment):Fi();var o=Zi.fromServerFormat(t.fieldPath);return new Ca(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=As(e,t.update.name),o=new No({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new eo(t.map((function(e){return Zi.fromServerFormat(e)})))}(t.updateMask);return new Ua(i,o,a,n,r)}return new Va(i,o,n,r)}if(t.delete){var s=As(e,t.delete);return new Wa(s,n)}if(t.verify){var u=As(e,t.verify);return new Qa(u,n)}return Fi()}function Us(e,t){return{documents:[Ds(e,t.path)]}}function Bs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ds(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ds(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ko(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NAN"}};if(To(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ko(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NAN"}};if(To(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(e.field),op:Qs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Gs(e.field),direction:Ws(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||co(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ks(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ks(t.endAt)),n}function zs(e){var t=Ps(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=qs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Qo($s(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return co(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Hs(n.startAt));var l=null;return n.endAt&&(l=Hs(n.endAt)),Jo(t,i,s,a,u,"F",c,l)}function qs(e){return e?void 0!==e.unaryFilter?[Xs(e)]:void 0!==e.fieldFilter?[Ys(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return qs(e)})).reduce((function(e,t){return e.concat(t)})):Fi():[]}function Ks(e){return{before:e.before,values:e.position}}function Hs(e){var t=!!e.before,n=e.values||[];return new Ho(n,t)}function Ws(e){return _s[e]}function Qs(e){return Es[e]}function Gs(e){return{fieldPath:e.canonicalString()}}function $s(e){return Zi.fromServerFormat(e.fieldPath)}function Ys(e){return jo.create($s(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fi()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$s(e.unaryFilter.field);return jo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$s(e.unaryFilter.field);return jo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$s(e.unaryFilter.field);return jo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$s(e.unaryFilter.field);return jo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fi()}}function Js(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Zs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function eu(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=nu(t)),t=tu(e.get(n),t);return nu(t)}function tu(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function nu(e){return e+"\x01\x01"}function ru(e){var t=e.length;if(Mi(t>=2),2===t)return Mi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Fi(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Fi()}o=a+2}return new Xi(r)}var iu=function(e,t){this.seconds=e,this.nanoseconds=t},ou=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ou.store="owner",ou.key="owner";var au=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};au.store="mutationQueues",au.keyPath="userId";var su=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};su.store="mutations",su.keyPath="batchId",su.userMutationsIndex="userMutationsIndex",su.userMutationsKeyPath=["userId","batchId"];var uu=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,eu(t)]},e.key=function(e,t,n){return[e,eu(t),n]},e}();uu.store="documentMutations",uu.PLACEHOLDER=new uu;var cu=function(e,t){this.path=e,this.readTime=t},lu=function(e,t){this.path=e,this.version=t},fu=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};fu.store="remoteDocuments",fu.readTimeIndex="readTimeIndex",fu.readTimeIndexPath="readTime",fu.collectionReadTimeIndex="collectionReadTimeIndex",fu.collectionReadTimeIndexPath=["parentPath","readTime"];var hu=function(e){this.byteSize=e};hu.store="remoteDocumentGlobal",hu.key="remoteDocumentGlobalKey";var du=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};du.store="targets",du.keyPath="targetId",du.queryTargetsIndexName="queryTargetsIndex",du.queryTargetsKeyPath=["canonicalId","targetId"];var pu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};pu.store="targetDocuments",pu.keyPath=["targetId","path"],pu.documentTargetsIndex="documentTargetsIndex",pu.documentTargetsKeyPath=["path","targetId"];var gu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gu.key="targetGlobalKey",gu.store="targetGlobal";var vu=function(e,t){this.collectionId=e,this.parent=t};vu.store="collectionParents",vu.keyPath=["collectionId","parent"];var mu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};mu.store="clientMetadata",mu.keyPath="clientId";var yu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yu.store="bundles",yu.keyPath="bundleId";var bu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};bu.store="namedQueries",bu.keyPath="name";var wu=b(b([],b(b([],b(b([],b(b([],[au.store,su.store,uu.store,fu.store,du.store,ou.store,gu.store,pu.store]),[mu.store])),[hu.store])),[vu.store])),[yu.store,bu.store]),_u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Su=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Tu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Fi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ku=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Su,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Nu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Pu(t.target.error);n.ft.reject(new Nu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Nu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Pi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Ou(t)},e}(),Iu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(k())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Pi("SimpleDb","Removing database:",e),Au(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=k(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Recipe-Cards",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return g(this,void 0,void 0,(function(){var t,n=this;return v(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Pi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Oi(Ci.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Nu(e,n))},i.onupgradeneeded=function(e){Pi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Pi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return v(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=ku.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Tu.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Pi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),xu=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Au(this.Pt.delete())},e}(),Nu=function(e){function t(t,n){var r=this;return(r=e.call(this,Ci.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return d(t,e),t}(Oi);function Cu(e){return"IndexedDbTransactionError"===e.name}var Ou=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Pi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Au(n)},e.prototype.add=function(e){return Pi("SimpleDb","ADD",this.store.name,e,e),Au(this.store.add(e))},e.prototype.get=function(e){var t=this;return Au(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Pi("SimpleDb","DELETE",this.store.name,e),Au(this.store.delete(e))},e.prototype.count=function(){return Pi("SimpleDb","COUNT",this.store.name),Au(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Pi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Tu((function(n,r){t.onerror=function(e){var t=Pu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Tu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new xu(i),a=t(i.primaryKey,i.value,o);if(a instanceof Tu){var s=a.catch((function(e){return o.done(),Tu.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Tu.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Au(e){return new Tu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Pu(e.target.error);n(t)}}))}var Du=!1;function Pu(e){var t=Iu._t(k());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Du||(Du=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ru=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return d(t,e),t}(Eu);function Lu(e,t){var n=Vi(e);return Iu.It(n.Mt,t)}var ju=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ra(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&La(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&La(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Wi.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cs())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(function(e,t){return Fa(e,t)}))&&qi(this.baseMutations,e.baseMutations,(function(e,t){return Fa(e,t)}))},e}(),Fu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Mi(t.mutations.length===r.length);for(var i=ss(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Mu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Wi.min()),void 0===o&&(o=Wi.min()),void 0===a&&(a=to.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Vu=function(e){this.Lt=e};function Uu(e,t){if(t.document)return Fs(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ho.fromSegments(t.noDocument.path),r=Hu(t.noDocument.readTime),i=Oo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ho.fromSegments(t.unknownDocument.path);return r=Hu(t.unknownDocument.version),Oo.newUnknownDocument(o,r)}return Fi()}function Bu(e,t,n){var r=zu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Os(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ts(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new fu(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Ku(t.version);return a=t.hasCommittedMutations,new fu(null,new cu(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Ku(t.version);return new fu(new lu(c,l),null,null,!0,r,i)}return Fi()}function zu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qu(e){var t=new Hi(e[0],e[1]);return Wi.fromTimestamp(t)}function Ku(e){var t=e.toTimestamp();return new iu(t.seconds,t.nanoseconds)}function Hu(e){var t=new Hi(e.seconds,e.nanoseconds);return Wi.fromTimestamp(t)}function Wu(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Vs(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Vs(e.Lt,t)})),s=Hi.fromMillis(t.localWriteTimeMs);return new ju(t.batchId,s,n,a)}function Qu(e){var t,n,r=Hu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hu(e.lastLimboFreeSnapshotVersion):Wi.min();return void 0!==e.query.documents?(Mi(1===(n=e.query).documents.length),t=aa(Zo(Ps(n.documents[0])))):t=function(e){return aa(zs(e))}(e.query),new Mu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,to.fromBase64String(e.resumeToken))}function Gu(e,t){var n,r=Ku(t.snapshotVersion),i=Ku(t.lastLimboFreeSnapshotVersion);n=Lo(t.target)?Us(e.Lt,t.target):Bs(e.Lt,t.target);var o=t.resumeToken.toBase64();return new du(t.targetId,Po(t.target),r,o,t.sequenceNumber,i,n)}function $u(e){var t=zs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sa(t,t.limit,"L"):t}var Yu=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Xu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Xu(e).put({bundleId:(n=t).id,createTime:Ku(xs(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ju(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:$u(t.bundledQuery),readTime:Hu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Ju(e).put(function(e){return{name:e.name,readTime:Ku(xs(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Xu(e){return Lu(e,yu.store)}function Ju(e){return Lu(e,bu.store)}var Zu=function(){function e(){this.Bt=new ec}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Tu.resolve()},e.prototype.getCollectionParents=function(e,t){return Tu.resolve(this.Bt.getEntries(t))},e}(),ec=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new es(Xi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new es(Xi.comparator)).toArray()},e}(),tc=function(){function e(){this.qt=new ec}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:eu(i)};return nc(e).put(o)}return Tu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ki(t),""],!1,!0);return nc(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ru(o.parent))}return n}))},e}();function nc(e){return Lu(e,vu.store)}var rc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ic=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function oc(e,t,n){var r=e.store(su.store),i=e.store(uu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Mi(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=uu.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Tu.waitFor(o).next((function(){return c}))}function ac(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fi();t=e.noDocument}return JSON.stringify(t).length}ic.DEFAULT_COLLECTION_PERCENTILE=10,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ic.DEFAULT=new ic(41943040,ic.DEFAULT_COLLECTION_PERCENTILE,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ic.DISABLED=new ic(-1,0,0);var sc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Mi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).$t({index:su.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=lc(e),a=cc(e);return a.add({}).next((function(s){Mi("number"==typeof s);for(var u=new ju(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ms(e.Lt,t)})),i=n.mutations.map((function(t){return Ms(e.Lt,t)}));return new su(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new es((function(e,t){return zi(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],g=uu.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,uu.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Tu.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return cc(e).get(t).next((function(e){return e?(Mi(e.userId===n.userId),Wu(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Tu.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return cc(e).$t({index:su.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Mi(t.batchId>=r),o=Wu(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cc(e).$t({index:su.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cc(e).Nt(su.userMutationsIndex,n).next((function(e){return e.map((function(e){return Wu(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=uu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return lc(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ru(u);if(s===n.userId&&t.path.isEqual(l))return cc(e).get(c).next((function(e){if(!e)throw Fi();Mi(e.userId===n.userId),o.push(Wu(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new es(zi),i=[];return t.forEach((function(t){var o=uu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=lc(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=ru(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Tu.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=uu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new es(zi);return lc(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=ru(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(cc(e).get(t).next((function(e){if(null===e)throw Fi();Mi(e.userId===n.userId),r.push(Wu(n.R,e))})))})),Tu.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return oc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Tu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tu.resolve();var r=IDBKeyRange.lowerBound(uu.prefixForUser(t.userId)),i=[];return lc(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=ru(e[1]);i.push(o)}else r.done()})).next((function(){Mi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return uc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return fc(e).get(this.userId).next((function(e){return e||new au(t.userId,-1,"")}))},e}();function uc(e,t,n){var r=uu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return lc(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function cc(e){return Lu(e,su.store)}function lc(e){return Lu(e,uu.store)}function fc(e){return Lu(e,au.store)}var hc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),dc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new hc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Wi.fromTimestamp(new Hi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return pc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Mi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return pc(e).$t((function(a,s){var u=Qu(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Tu.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return pc(e).$t((function(e,n){var r=Qu(n);t(r)}))},e.prototype.Xt=function(e){return gc(e).get(gu.key).next((function(e){return Mi(null!==e),e}))},e.prototype.Zt=function(e,t){return gc(e).put(gu.key,t)},e.prototype.te=function(e,t){return pc(e).put(Gu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Po(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pc(e).$t({range:r,index:du.queryTargetsIndexName},(function(e,n,r){var o=Qu(n);Ro(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=vc(e);return t.forEach((function(t){var a=eu(t.path);i.push(o.put(new pu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Tu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=vc(e);return Tu.forEach(t,(function(t){var o=eu(t.path);return Tu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=vc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vc(e),i=cs();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=ru(e[1]),o=new ho(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=eu(t.path),r=IDBKeyRange.bound([n],[Ki(n)],!1,!0),i=0;return vc(e).$t({index:pu.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return pc(e).get(t).next((function(e){return e?Qu(e):null}))},e}();function pc(e){return Lu(e,du.store)}function gc(e){return Lu(e,gu.store)}function vc(e){return Lu(e,pu.store)}function mc(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){if(e.code!==Ci.FAILED_PRECONDITION||e.message!==_u)throw e;return Pi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function yc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=zi(n,i);return 0===a?zi(r,o):a}var bc=function(){function e(e){this.ne=e,this.buffer=new es(yc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),wc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Pi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return g(t,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cu(t=n.sent())?(Pi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,mc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),_c=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Tu.resolve(Ni.o);var r=new bc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; disabled"),Tu.resolve(rc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),rc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Di()<=z.DEBUG&&Pi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Tu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ec=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new _c(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Sc(e,n)},e.prototype.removeReference=function(e,t,n){return Sc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Sc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return fc(e).Ot((function(r){return uc(e,r,t).next((function(e){return e&&(n=!0),Tu.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),vc(e).delete([0,eu(a.path)])}))}));i.push(u)}})).next((function(){return Tu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Sc(e,t)},e.prototype.we=function(e,t){var n,r=vc(e),i=Ni.o;return r.$t({index:pu.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Ni.o&&t(new ho(ru(n)),i),i=s,n=a):i=Ni.o})).next((function(){i!==Ni.o&&t(new ho(ru(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Sc(e,t){return vc(e).put(function(e,t){return new pu(0,eu(e.path),t)}(t,e.currentSequenceNumber))}var Tc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Gi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return $i(this.inner)},e}(),kc=function(){function e(){this.changes=new Tc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Wi.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Oo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Ic=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Cc(e).put(Oc(t),n)},e.prototype.removeEntry=function(e,t){var n=Cc(e),r=Oc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Cc(e).get(Oc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Cc(e).get(Oc(t)).next((function(e){return{document:n.ye(t,e),size:ac(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=rs();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=rs(),i=new Xa(ho.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ac(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Tu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Cc(e).$t({range:r},(function(e,t,r){for(var a=ho.fromSegments(e);o&&ho.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=rs(),o=t.path.length+1,a={};if(n.isEqual(Wi.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=zu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=fu.collectionReadTimeIndex}return Cc(e).$t(a,(function(e,n,a){if(e.length===o){var s=Uu(r.R,n);t.path.isPrefixOf(s.key.path)?fa(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new xc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Nc(e).get(hu.key).next((function(e){return Mi(!!e),e}))},e.prototype.me=function(e,t){return Nc(e).put(hu.key,t)},e.prototype.ye=function(e,t){if(t){var n=Uu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Wi.min()))return n}return Oo.newInvalidDocument(e)},e}(),xc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Tc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new es((function(e,t){return zi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Bu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ac(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Bu(t.Ie.R,Oo.newNoDocument(o,Wi.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Tu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(kc);function Nc(e){return Lu(e,hu.store)}function Cc(e){return Lu(e,fu.store)}function Oc(e){return e.path.toArray()}var Ac=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Mi(n<r&&n>=0&&r<=11);var o=new ku("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ou.store)}(e),function(e){e.createObjectStore(au.store,{keyPath:au.keyPath}),e.createObjectStore(su.store,{keyPath:su.keyPath,autoIncrement:!0}).createIndex(su.userMutationsIndex,su.userMutationsKeyPath,{unique:!0}),e.createObjectStore(uu.store)}(e),Dc(e),function(e){e.createObjectStore(fu.store)}(e));var a=Tu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(pu.store),e.deleteObjectStore(du.store),e.deleteObjectStore(gu.store)}(e),Dc(e)),a=a.next((function(){return function(e){var t=e.store(gu.store),n=new gu(0,0,Wi.min().toTimestamp(),0);return t.put(gu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(su.store).Nt().next((function(n){e.deleteObjectStore(su.store),e.createObjectStore(su.store,{keyPath:su.keyPath,autoIncrement:!0}).createIndex(su.userMutationsIndex,su.userMutationsKeyPath,{unique:!0});var r=t.store(su.store),i=n.map((function(e){return r.put(e)}));return Tu.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(mu.store,{keyPath:mu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(hu.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(fu.store);t.createIndex(fu.readTimeIndex,fu.readTimeIndexPath,{unique:!1}),t.createIndex(fu.collectionReadTimeIndex,fu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(yu.store,{keyPath:yu.keyPath})}(e),function(e){e.createObjectStore(bu.store,{keyPath:bu.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(fu.store).$t((function(e,n){t+=ac(n)})).next((function(){var n=new hu(t);return e.store(hu.store).put(hu.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(au.store),r=e.store(su.store);return n.Nt().next((function(n){return Tu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(su.userMutationsIndex,i).next((function(r){return Tu.forEach(r,(function(r){Mi(r.userId===n.userId);var i=Wu(t.R,r);return oc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(pu.store),n=e.store(fu.store);return e.store(gu.store).get(gu.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Xi(n),a=function(e){return[0,eu(e)]}(o);r.push(t.get(a).next((function(n){return n?Tu.resolve():function(n){return t.put(new pu(0,eu(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Tu.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(vu.store,{keyPath:vu.keyPath});var n=t.store(vu.store),r=new ec,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:eu(i)})}};return t.store(fu.store).$t({Ft:!0},(function(e,t){var n=new Xi(e);return i(n.popLast())})).next((function(){return t.store(uu.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=ru(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(du.store);return n.$t((function(e,r){var i=Qu(r),o=Gu(t.R,i);return n.put(o)}))},e}();function Dc(e){e.createObjectStore(pu.store,{keyPath:pu.keyPath}).createIndex(pu.documentTargetsIndex,pu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(du.store,{keyPath:du.keyPath}).createIndex(du.queryTargetsIndexName,du.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gu.store)}var Pc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Oi(Ci.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ec(this,i),this.Le=n+"main",this.R=new Vu(u),this.Be=new Iu(this.Le,11,new Ac(this.R)),this.qe=new dc(this.referenceDelegate,this.R),this.Ut=new tc,this.Ue=function(e,t){return new Ic(e,t)}(this.R,this.Ut),this.Ke=new Yu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oi(Ci.FAILED_PRECONDITION,Pc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Ni(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return g(t,void 0,void 0,(function(){return v(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return g(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return g(t,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jc(t).put(new mu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Cu(t))return Pi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Lc(e).get(ou.key).next((function(e){return Tu.resolve(t.tn(e))}))},e.prototype.en=function(e){return jc(e).delete(this.clientId)},e.prototype.nn=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,i=this;return v(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Lu(e,mu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Tu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Tu.resolve(!0):Lc(e).get(ou.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Oi(Ci.FAILED_PRECONDITION,Pc);return!1}}return!(!t.networkEnabled||!t.inForeground)||jc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return g(this,void 0,void 0,(function(){var e=this;return v(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ou.store,mu.store],(function(t){var n=new Ru(t,Ni.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return sc.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Pi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,wu,(function(o){return i=new Ru(o,r.Ne?r.Ne.next():Ni.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ri("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Oi(Ci.FAILED_PRECONDITION,_u);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Lc(e).get(ou.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oi(Ci.FAILED_PRECONDITION,Pc)}))},e.prototype.Ze=function(e){var t=new ou(this.clientId,this.allowTabSynchronization,Date.now());return Lc(e).put(ou.key,t)},e.yt=function(){return Iu.yt()},e.prototype.Xe=function(e){var t=this,n=Lc(e);return n.get(ou.key).next((function(e){return t.tn(e)?(Pi("IndexedDbPersistence","Releasing primary lease."),n.delete(ou.key)):Tu.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ri("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Pi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ri("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Lc(e){return Lu(e,ou.store)}function jc(e){return Lu(e,mu.store)}function Fc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mc=function(e,t){this.progress=e,this.wn=t},Vc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ia(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ho(t)).next((function(e){var t=os();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=os();return this.Ut.getCollectionParents(e,i).next((function(a){return Tu.forEach(a,(function(a){var s=function(e,t){return new Xo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Oo.newInvalidDocument(c),r=r.insert(c,l)),La(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){fa(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=cs(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ua&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Uc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=cs(),i=cs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Bc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wi.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(ea(t)||ta(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Di()<=z.DEBUG&&Pi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),la(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new es(ha(e));return t.forEach((function(t,r){fa(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Di()<=z.DEBUG&&Pi("QueryEngine","Using full collection scan to execute query:",la(t)),this.Sn.getDocumentsMatchingQuery(e,t,Wi.min())},e}(),zc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Xa(zi),this.Fn=new Tc((function(e){return Po(e)}),Ro),this.$n=Wi.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Vc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function qc(e,t,n,r){return new zc(e,t,n,r)}function Kc(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o;return v(this,(function(a){switch(a.label){case 0:return n=Vi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Vc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=cs(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Hc(e,t){var n=Vi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Tu.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Mi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Wc(e){var t=Vi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Qc(e,t){var n=Vi(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Mi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=rs();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Gc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Wi.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Tu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Gc(e,t,n,r,i){var o=cs();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=rs();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Wi.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Pi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function $c(e,t){var n=Vi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Yc(e,t){var n=Vi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Tu.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Mu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Xc(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:r=Vi(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Cu(a=s.sent()))throw a;return Pi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Jc(e,t,n){var r=Vi(e),i=Wi.min(),o=cs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vi(e),i=r.Fn.get(n);return void 0!==i?Tu.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,aa(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Wi.min(),n?o:cs())})).next((function(e){return{documents:e,Bn:o}}))}))}function Zc(e,t){var n=Vi(e),r=Vi(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function el(e){var t=Vi(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Vi(e),i=rs(),o=zu(n),a=Cc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:fu.readTimeIndex,range:s},(function(e,t){var n=Uu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:qu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function tl(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){return[2,(t=Vi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Cc(e),n=Wi.min();return t.$t({index:fu.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=qu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function nl(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return v(this,(function(p){switch(p.label){case 0:for(i=Vi(e),o=cs(),a=rs(),s=ss(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Yc(i,function(e){return aa(Zo(Xi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Gc(e,h,a,Wi.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function rl(e,t,n){return void 0===n&&(n=cs()),g(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return[4,Yc(e,aa($u(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vi(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=xs(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(to.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var il=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Tu.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:xs(n.createTime)}),Tu.resolve()},e.prototype.getNamedQuery=function(e,t){return Tu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:$u(e.bundledQuery),readTime:xs(e.readTime)}}(t)),Tu.resolve()},e}(),ol=function(){function e(){this.Wn=new es(al.Gn),this.zn=new es(al.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new al(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new al(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new ho(new Xi([])),r=new al(n,e),i=new al(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ho(new Xi([])),n=new al(t,e),r=new al(t,e+1),i=cs();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new al(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),al=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ho.comparator(e.key,t.key)||zi(e.ns,t.ns)},e.Hn=function(e,t){return zi(e.ns,t.ns)||ho.comparator(e.key,t.key)},e}(),sl=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new es(al.Gn)}return e.prototype.checkEmpty=function(e){return Tu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new ju(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new al(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Tu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Tu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Tu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Tu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Tu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new al(t,0),i=new al(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Tu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new es(zi);return t.forEach((function(e){var t=new al(e,0),i=new al(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Tu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ho.isDocumentKey(i)||(i=i.child(""));var o=new al(new ho(i),0),a=new es(zi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Tu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Mi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Tu.forEach(t.mutations,(function(i){var o=new al(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new al(t,0),r=this.rs.firstAfterOrEqual(n);return Tu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Tu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ul=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Xa(ho.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Tu.resolve(n?n.document.clone():Oo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=rs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Oo.newInvalidDocument(e))})),Tu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=rs(),i=new ho(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||fa(t,c)&&(r=r.insert(c.key,c.clone()))}return Tu.resolve(r)},e.prototype.fs=function(e,t){return Tu.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new cl(this)},e.prototype.getSize=function(e){return Tu.resolve(this.size)},e}(),cl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return d(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Tu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(kc),ll=function(){function e(e){this.persistence=e,this.ds=new Tc((function(e){return Po(e)}),Ro),this.lastRemoteSnapshotVersion=Wi.min(),this.highestTargetId=0,this.ws=0,this._s=new ol,this.targetCount=0,this.ys=hc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Tu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Tu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Tu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Tu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Tu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Tu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Tu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Tu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Tu.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Tu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Tu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Tu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Tu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Tu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Tu.resolve(n)},e.prototype.containsKey=function(e,t){return Tu.resolve(this._s.containsKey(t))},e}(),fl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Ni(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ll(this),this.Ut=new Zu,this.Ue=function(e,t){return new ul(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Vu(t),this.Ke=new il(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new sl(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Pi("MemoryPersistence","Starting transaction:",e);var i=new hl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Tu.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),hl=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return d(t,e),t}(Eu),dl=function(){function e(e){this.persistence=e,this.As=new ol,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fi()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Tu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Tu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Tu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tu.forEach(this.vs,(function(r){var i=ho.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Tu.or([function(){return Tu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),pl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function gl(e,t){return"firestore_clients_"+e+"_"+t}function vl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function ml(e,t){return"firestore_targets_"+e+"_"+t}pl.UNAUTHENTICATED=new pl(null),pl.GOOGLE_CREDENTIALS=new pl("google-credentials-uid"),pl.FIRST_PARTY=new pl("first-party-uid"),pl.MOCK_USER=new pl("mock-user");var yl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Oi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ri("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),bl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oi(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ri("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),wl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fs(),a=0;i&&a<r.activeTargetIds.length;++a)i=fo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ri("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),_l=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ri("SharedClientState","Failed to parse online state: "+t),null)},e}(),El=function(){function e(){this.activeTargetIds=fs()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Sl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Xa(zi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=gl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new El),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return v(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(gl(this.persistenceKey,r)))&&(o=wl.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ml(this.persistenceKey,e));if(n){var r=bl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(ml(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Pi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Pi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Pi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return g(t,void 0,void 0,(function(){var e,t,r,i,o,a;return v(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Ni.o;if(null!=e)try{var n=JSON.parse(e);Mi("number"==typeof n),t=n}catch(e){Ri("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ni.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new yl(this.currentUser,e,t,n),i=vl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=vl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=ml(this.persistenceKey,e),i=new bl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return wl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yl.Vs(new pl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return bl.Vs(r,t)},e.prototype.js=function(e){return _l.Vs(e)},e.prototype.ii=function(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Pi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=fs();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Tl=function(){function e(){this.li=new El,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new El,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),kl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Il=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Pi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Pi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),xl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Cl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return d(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new xi;a.listenOnce(Ei.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case _i.NO_ERROR:var t=a.getResponseJson();Pi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _i.TIMEOUT:Pi("Connection",'RPC "'+e+'" timed out'),o(new Oi(Ci.DEADLINE_EXCEEDED,"Request time out"));break;case _i.HTTP_ERROR:var n=a.getStatus();if(Pi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ci).indexOf(t)>=0?t:Ci.UNKNOWN}(r.status);o(new Oi(s,r.message))}else o(new Oi(Ci.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Oi(Ci.UNAVAILABLE,"Connection failed."));break;default:Fi()}}finally{Pi("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=bi(),i=wi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ki({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())||"object"===typeof navigator&&"ReactNative"===navigator.product||k().indexOf("Electron/")>=0||function(){var e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||k().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Pi("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Nl({Ei:function(e){c?Pi("Connection","Not sending because WebChannel is closed:",e):(u||(Pi("Connection","Opening WebChannel transport."),s.open(),u=!0),Pi("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Ii.EventType.OPEN,(function(){c||Pi("Connection","WebChannel transport opened.")})),f(s,Ii.EventType.CLOSE,(function(){c||(c=!0,Pi("Connection","WebChannel transport closed"),l.Vi())})),f(s,Ii.EventType.ERROR,(function(e){c||(c=!0,Li("Connection","WebChannel transport errored:",e),l.Vi(new Oi(Ci.UNAVAILABLE,"The operation could not be completed")))})),f(s,Ii.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Mi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ka[e];if(void 0!==t)return Ya(t)}(o),u=i.message;void 0===a&&(a=Ci.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Oi(a,u)),s.close()}else Pi("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Si.STAT_EVENT,(function(e){e.stat===Ti.PROXY?Pi("Connection","Detected buffering proxy"):e.stat===Ti.NOPROXY&&Pi("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Pi("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Pi("RestConnection","Received: ",e),e}),(function(t){throw Li("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=xl[e];return this.Di+"/v1/"+t+":"+n},e}());function Ol(){return"undefined"!=typeof window?window:null}function Al(){return"undefined"!=typeof document?document:null}function Dl(e){return new Ss(e,!0)}var Pl=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Pi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Rl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Pl(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return g(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Ci.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Ci.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Oi(Ci.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return g(e,void 0,void 0,(function(){return v(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Pi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Pi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ll=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return d(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Mi(void 0===t||"string"==typeof t),to.fromBase64String(t||"")):(Mi(void 0===t||t instanceof Uint8Array),to.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Ci.UNKNOWN:Ya(e.code);return new Oi(t,e.message||"")}(s);n=new vs(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=As(e,r.document.name),o=xs(r.document.updateTime);var s=new No({mapValue:{fields:r.document.fields}}),u=(a=Oo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ps(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=As(e,r.document),o=r.readTime?xs(r.readTime):Wi.min(),s=Oo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ps([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=As(e,r.document),o=r.removedTargetIds||[],n=new ps([],o,i,null);else{if(!("filter"in t))return Fi();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Ga(r),o=l.targetId,n=new gs(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Wi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wi.min():t.readTime?xs(t.readTime):Wi.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Rs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Lo(r)?{documents:Us(e,r)}:{query:Bs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ks(e,t.resumeToken):t.snapshotVersion.compareTo(Wi.min())>0&&(n.readTime=Ts(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Rs(this.R),t.removeTarget=e,this.cr(t)},t}(Rl),jl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return d(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Mi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Mi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xs(e.updateTime):xs(t);return n.isEqual(Wi.min())&&(n=xs(t)),new Oa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xs(e.commitTime);return this.listener.Tr(n,t)}return Mi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Rs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ms(t.R,e)}))};this.cr(n)},t}(Rl),Fl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return d(t,e),t.prototype.br=function(){if(this.Rr)throw new Oi(Ci.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ci.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Ci.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ci.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Ci.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Ml=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ri(t),this.Vr=!1):Pi("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Vl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return g(o,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return Gl(this)?(Pi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return(t=Vi(e)).Or.add(4),[4,Bl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Ul(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Ml(n,r)};function Ul(e){return g(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:if(!Gl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Bl(e){return g(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function zl(e,t){var n=Vi(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ql(n)?Wl(n):lf(n).er()&&Kl(n,t))}function ql(e,t){var n=Vi(e),r=lf(n);n.$r.delete(t),r.er()&&Hl(n,t),0===n.$r.size&&(r.er()?r.ir():Gl(n)&&n.Br.set("Unknown"))}function Kl(e,t){e.qr.U(t.targetId),lf(e).mr(t)}function Hl(e,t){e.qr.U(t),lf(e).yr(t)}function Wl(e){e.qr=new ys({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),lf(e).start(),e.Br.Sr()}function Ql(e){return Gl(e)&&!lf(e).tr()&&e.$r.size>0}function Gl(e){return 0===Vi(e).Or.size}function $l(e){e.qr=void 0}function Yl(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){return e.$r.forEach((function(t,n){Kl(e,t)})),[2]}))}))}function Xl(e,t){return g(this,void 0,void 0,(function(){return v(this,(function(n){return $l(e),Ql(e)?(e.Br.Nr(t),Wl(e)):e.Br.set("Unknown"),[2]}))}))}function Jl(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o;return v(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof vs&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o;return v(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Pi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Zl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ps?e.qr.X(t):t instanceof gs?e.qr.rt(t):e.qr.et(t),n.isEqual(Wi.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Wc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(to.EMPTY_BYTE_STRING,n.snapshotVersion)),Hl(e,t);var r=new Mu(n.target,t,1,n.sequenceNumber);Kl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Pi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Zl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Zl(e,t,n){return g(this,void 0,void 0,(function(){var r=this;return v(this,(function(i){switch(i.label){case 0:if(!Cu(t))throw t;return e.Or.add(1),[4,Bl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Wc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return g(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return Pi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Ul(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ef(e,t){return t().catch((function(n){return Zl(e,n,t)}))}function tf(e){return g(this,void 0,void 0,(function(){var t,n,r,i,o;return v(this,(function(a){switch(a.label){case 0:t=Vi(e),n=ff(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Gl(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,$c(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=ff(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Zl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return nf(t)&&rf(t),[2]}}))}))}function nf(e){return Gl(e)&&!ff(e).tr()&&e.Fr.length>0}function rf(e){ff(e).start()}function of(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){return ff(e).Ar(),[2]}))}))}function af(e){return g(this,void 0,void 0,(function(){var t,n,r,i;return v(this,(function(o){for(t=ff(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function sf(e,t,n){return g(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Fu.from(r,t,n),[4,ef(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,tf(e)];case 2:return o.sent(),[2]}}))}))}function uf(e,t){return g(this,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return t&&ff(e).pr?[4,function(e,t){return g(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return $a(r=t.code)&&r!==Ci.ABORTED?(n=e.Fr.shift(),ff(e).sr(),[4,ef(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,tf(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return nf(e)&&rf(e),[2]}}))}))}function cf(e,t){return g(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return n=Vi(e),t?(n.Or.delete(2),[4,Ul(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Bl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Vi(e);return r.br(),new Ll(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Yl.bind(null,e),Ri:Xl.bind(null,e),_r:Jl.bind(null,e)}),e.Mr.push((function(n){return g(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ql(e)?Wl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),$l(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function ff(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Vi(e);return r.br(),new jl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:of.bind(null,e),Ri:uf.bind(null,e),Ir:af.bind(null,e),Tr:sf.bind(null,e)}),e.Mr.push((function(n){return g(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,tf(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Pi("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var hf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oi(Ci.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function df(e,t){if(Ri("AsyncQueue",t+": "+e),Cu(e))return new Oi(Ci.UNAVAILABLE,t+": "+e);throw e}var pf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ho.comparator(t.key,n.key)}:function(e,t){return ho.comparator(e.key,t.key)},this.keyedMap=os(),this.sortedSet=new Xa(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),gf=function(){function e(){this.Qr=new Xa(ho.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Fi():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),vf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ua(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),mf=function(){this.Wr=void 0,this.listeners=[]},yf=function(){this.queries=new Tc((function(e){return ca(e)}),ua),this.onlineState="Unknown",this.Gr=new Set};function bf(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:if(n=Vi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new mf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=df(s,"Initialization of query '"+la(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Sf(n),[2]}}))}))}function wf(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a;return v(this,(function(s){return n=Vi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function _f(e,t){for(var n=Vi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Sf(n)}function Ef(e,t,n){var r=Vi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Sf(e){e.Gr.forEach((function(e){e.next()}))}var Tf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new vf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=vf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),kf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),If=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return As(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Fs(this.R,e.document,!1):Oo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return xs(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=xf(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new If(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||cs()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,i;return v(this,(function(o){switch(o.label){case 0:return[4,nl(this.localStore,new If(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,rl(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mc(Object.assign({},this.progress),e))]}}))}))}}();function xf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Nf=function(e){this.key=e},Cf=function(e){this.key=e},Of=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=cs(),this.mutatedKeys=cs(),this.lo=ha(e),this.fo=new pf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new gf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ea(this.query)&&i.size===this.query.limit?i.last():null,c=ta(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=fa(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ea(this.query)||ta(this.query))for(;a.size>this.query.limit;){var l=ea(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fi()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new vf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=cs(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Cf(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Nf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=cs();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return vf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Af=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Df=function(e){this.key=e,this.bo=!1},Pf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Tc((function(e){return ca(e)}),ua),this.Vo=new Map,this.So=new Set,this.Do=new Xa(ho.comparator),this.Co=new Map,this.No=new ol,this.xo={},this.ko=new Map,this.Fo=hc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Rf(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return n=ch(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Yc(n.localStore,aa(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Lf(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&zl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Lf(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o,a,s,u,c;return v(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o,a;return v(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Jc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Gf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Jc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Of(t,i.Bn),a=o._o(i.documents),s=ds.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Gf(e,n,u.To),c=new Af(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function jf(e,t){return g(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return n=Vi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!ua(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),ql(n.remoteStore,r.targetId),Wf(n,r.targetId)})).catch(mc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Wf(n,r.targetId),[4,Xc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ff(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:r=lh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Vi(e),i=Hi.now(),o=t.reduce((function(e,t){return e.add(t.key)}),cs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=ja(c,n.get(c.key));null!=l&&a.push(new Ua(c.key,l,Co(l.value.mapValue),Aa.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Xa(zi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Xf(r,i.changes)];case 3:return s.sent(),[4,tf(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=df(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Mf(e,t){return g(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:n=Vi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Mi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Mi(r.bo):e.removedDocuments.size>0&&(Mi(r.bo),r.bo=!1))})),[4,Xf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,mc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Vf(e,t,n){var r=Vi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Sf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Uf(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a,s,u;return v(this,(function(c){switch(c.label){case 0:return(r=Vi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Xa(ho.comparator)).insert(o,Oo.newNoDocument(o,Wi.min())),s=cs().add(o),u=new hs(Wi.min(),new Map,new es(zi),a,s),[4,Mf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Yf(r),[3,4];case 2:return[4,Xc(r.localStore,t,!1).then((function(){return Wf(r,t,n)})).catch(mc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Bf(e,t){return g(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:n=Vi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Hc(n.localStore,t)];case 2:return i=o.sent(),Hf(n,r,null),Kf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,mc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function zf(e,t,n){return g(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:r=Vi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Vi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Mi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Hf(r,t,n),Kf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Xf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,mc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function qf(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a;return v(this,(function(s){switch(s.label){case 0:Gl((n=Vi(e)).remoteStore)||Pi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Vi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=df(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Kf(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Hf(e,t,n){var r=Vi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Wf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Qf(e,t)}))}function Qf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(ql(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Yf(e))}function Gf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Nf?(e.No.addReference(o.key,t),$f(e,o)):o instanceof Cf?(Pi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Qf(e,o.key)):Fi()}}function $f(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Pi("SyncEngine","New document in limbo: "+n),e.So.add(r),Yf(e))}function Yf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ho(Xi.fromString(t)),r=e.Fo.next();e.Co.set(r,new Df(n)),e.Do=e.Do.insert(n,r),zl(e.remoteStore,new Mu(aa(Zo(n.path)),r,2,Ni.o))}}function Xf(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a;return v(this,(function(s){switch(s.label){case 0:return r=Vi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Uc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return v(this,(function(f){switch(f.label){case 0:n=Vi(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tu.forEach(t,(function(t){return Tu.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Tu.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Cu(r=f.sent()))throw r;return Pi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Jf(e,t){return g(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return(n=Vi(e)).currentUser.isEqual(t)?[3,3]:(Pi("SyncEngine","User change. New user:",t.toKey()),[4,Kc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Oi(Ci.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Xf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Zf(e,t){var n=Vi(e),r=n.Co.get(t);if(r&&r.bo)return cs().add(r.key);var i=cs(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function eh(e,t){return g(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return[4,Jc((n=Vi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Gf(n,t.targetId,i.To),i)]}}))}))}function th(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){return[2,el((t=Vi(e)).localStore).then((function(e){return Xf(t,e)}))]}))}))}function nh(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o;return v(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Vi(e),r=Vi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Tu.resolve(null)}))}))}((i=Vi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,tf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hf(i,t,r||null),Kf(i,t),function(e,t){Vi(Vi(e)._n).Gt(t)}(i.localStore,t)):Fi(),a.label=4;case 4:return[4,Xf(i,o)];case 5:return a.sent(),[3,7];case 6:Pi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function rh(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return v(this,(function(l){switch(l.label){case 0:return ch(n=Vi(e)),lh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ih(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,cf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],zl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Wf(n,t),Xc(n.localStore,t,!0)})),ql(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,ih(n,u)];case 5:return l.sent(),function(e){var t=Vi(e);t.Co.forEach((function(e,n){ql(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Xa(ho.comparator)}(n),n.$o=!1,[4,cf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function ih(e,t,n){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,g;return v(this,(function(v){switch(v.label){case 0:n=Vi(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Yc(n.localStore,aa(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,eh(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Zc(n.localStore,s)];case 8:return g=v.sent(),[4,Yc(n.localStore,g)];case 9:return u=v.sent(),[4,Lf(n,oh(g),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function oh(e){return Jo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ah(e){var t=Vi(e);return Vi(Vi(t.localStore).persistence).fn()}function sh(e,t,n,r){return g(this,void 0,void 0,(function(){var i,o,a;return v(this,(function(s){switch(s.label){case 0:return(i=Vi(e)).$o?(Pi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,el(i.localStore)];case 3:return o=s.sent(),a=hs.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Xf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Xc(i.localStore,t,!0)];case 6:return s.sent(),Wf(i,t,r),[3,8];case 7:Fi(),s.label=8;case 8:return[2]}}))}))}function uh(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return v(this,(function(d){switch(d.label){case 0:if(!(r=ch(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Pi("SyncEngine","Adding an already active target "+a),[3,5]):[4,Zc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Yc(r.localStore,s)];case 3:return u=d.sent(),[4,Lf(r,oh(s),u.targetId,!1)];case 4:d.sent(),zl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return v(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Xc(r.localStore,e,!1).then((function(){ql(r.remoteStore,e),Wf(r,e)})).catch(mc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function ch(e){var t=Vi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uf.bind(null,t),t.vo._r=_f.bind(null,t.eventManager),t.vo.Mo=Ef.bind(null,t.eventManager),t}function lh(e){var t=Vi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zf.bind(null,t),t}var fh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return this.R=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return qc(this.persistence,new Bc,e.initialUser,this.R)},e.prototype.qo=function(e){return new fl(dl.bs,this.R)},e.prototype.Bo=function(e){return new Tl},e.prototype.terminate=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),hh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return d(t,e),t.prototype.initialize=function(t){return g(this,void 0,void 0,(function(){var n=this;return v(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,tl(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,lh(this.Qo.syncEngine)];case 4:return r.sent(),[4,tf(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return qc(this.persistence,new Bc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new wc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ic.withCacheSize(this.cacheSizeBytes):ic.DEFAULT;return new Rc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ol(),Al(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Tl},t}(fh),dh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return d(t,e),t.prototype.initialize=function(t){return g(this,void 0,void 0,(function(){var n,r=this;return v(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Sl?(this.sharedClientState.syncEngine={ui:nh.bind(null,n),ai:sh.bind(null,n),hi:uh.bind(null,n),fn:ah.bind(null,n),ci:th.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return g(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,rh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ol();if(!Sl.yt(t))throw new Oi(Ci.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(hh),ph=function(){function e(){}return e.prototype.initialize=function(e,t){return g(this,void 0,void 0,(function(){var n=this;return v(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vf(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jf.bind(null,this.syncEngine),[4,cf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new yf},e.prototype.createDatastore=function(e){var t,n=Dl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Cl(t));return function(e,t,n){return new Fl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Vf(a.syncEngine,e,0)},o=Il.yt()?new Il:new kl,new Vl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Pf(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=Vi(e),Pi("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Bl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var gh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),vh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Su,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return g(this,void 0,void 0,(function(){var e,t,n,r;return v(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new kf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return g(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return g(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return g(this,void 0,void 0,(function(){var t,n=this;return v(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oi(Ci.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return n=Vi(e),r=Rs(n.R)+"/documents",i={documents:t.map((function(e){return Os(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Mi(!!t.found),t.found.name,t.found.updateTime;var n=As(e,t.found.name),r=xs(t.found.updateTime),i=new No({mapValue:{fields:t.found.fields}});return Oo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mi(!!t.missing),Mi(!!t.readTime);var n=As(e,t.missing),r=xs(t.readTime);return Oo.newNoDocument(n,r)}(e,t):Fi()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Mi(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return g(this,void 0,void 0,(function(){var e,t=this;return v(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ho.fromPath(n);t.mutations.push(new Qa(r,t.precondition(r)))})),[4,function(e,t){return g(this,void 0,void 0,(function(){var n,r,i;return v(this,(function(o){switch(o.label){case 0:return n=Vi(e),r=Rs(n.R)+"/documents",i={writes:t.map((function(e){return Ms(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fi();t=Wi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oi(Ci.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Aa.updateTime(t):Aa.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wi.min()))throw new Oi(Ci.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(t)}return Aa.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),mh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Pl(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return g(e,void 0,void 0,(function(){var e,t,n=this;return v(this,(function(r){return e=new vh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!co(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$a(t)}return!1},e}(),yh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=pl.UNAUTHENTICATED,this.clientId=Bi.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return g(r,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return Pi("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oi(Ci.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return g(e,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=df(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function bh(e,t){return g(this,void 0,void 0,(function(){var n,r,i=this;return v(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Pi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return g(i,void 0,void 0,(function(){return v(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Kc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function wh(e,t){return g(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_h(e)];case 1:return n=i.sent(),Pi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return g(this,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return(n=Vi(e)).asyncQueue.verifyOperationInProgress(),Pi("RemoteStore","RemoteStore received new credentials"),r=Gl(n),n.Or.add(3),[4,Bl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Ul(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function _h(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Pi("FirestoreClient","Using default OfflineComponentProvider"),[4,bh(e,new fh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Eh(e){return g(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Pi("FirestoreClient","Using default OnlineComponentProvider"),[4,wh(e,new ph)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Sh(e){return _h(e).then((function(e){return e.persistence}))}function Th(e){return _h(e).then((function(e){return e.localStore}))}function kh(e){return Eh(e).then((function(e){return e.remoteStore}))}function Ih(e){return Eh(e).then((function(e){return e.syncEngine}))}function xh(e){return g(this,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,Eh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Rf.bind(null,t.syncEngine),n.onUnlisten=jf.bind(null,t.syncEngine),n)]}}))}))}function Nh(e,t,n){var r=this;void 0===n&&(n={});var i=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(o){t.enqueueAndForget((function(){return wf(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Oi(Ci.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Oi(Ci.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Tf(Zo(n.path),o,{includeMetadataChanges:!0,so:!0});return bf(e,a)},[4,xh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Ch(e,t,n){var r=this;void 0===n&&(n={});var i=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(n){t.enqueueAndForget((function(){return wf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Oi(Ci.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Tf(n,o,{includeMetadataChanges:!0,so:!0});return bf(e,a)},[4,xh(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Oh=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ah=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Dh=new Map,Ph=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Rh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(pl.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Lh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jh=function(){function e(e){var t=this;this.currentUser=pl.UNAUTHENTICATED,this.oc=new Su,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Pi("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Pi("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Pi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mi("string"==typeof n.accessToken),new Ph(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return g(n,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Mi(null===e||"string"==typeof e),new pl(e)},e}(),Fh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=pl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Mh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Fh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(pl.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Vh(e,t,n){if(!n)throw new Oi(Ci.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Uh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Bh(e,t,n,r){if(!0===t&&!0===r)throw new Oi(Ci.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function zh(e){if(!ho.isDocumentKey(e))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function qh(e){if(ho.isDocumentKey(e))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Kh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Fi()}function Hh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oi(Ci.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kh(e);throw new Oi(Ci.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Wh(e,t){if(t<=0)throw new Oi(Ci.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Qh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oi(Ci.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oi(Ci.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Gh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1,e instanceof Ah?(this._databaseId=e,this._credentials=new Rh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oi(Ci.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(e.options.projectId)}(e),this._credentials=new jh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Oi(Ci.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Oi(Ci.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Rh;switch(e.type){case"gapi":var t=e.client;return Mi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oi(Ci.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Dh.get(this))&&(Pi("ComponentProvider","Removing Datastore"),Dh.delete(this),e.terminate()),Promise.resolve();var e},e}(),$h=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Yh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Xh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Zo(r))||this)._path=r,i.type="collection",i}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $h(this.firestore,null,new ho(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Yh);function Jh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=L(e),Vh("collection","path",t),e instanceof Gh)return qh(n=Xi.fromString.apply(Xi,b([t],r))),new Xh(e,null,n);if(!(e instanceof $h||e instanceof Xh))throw new Oi(Ci.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qh(n=Xi.fromString.apply(Xi,b([e.path],r)).child(Xi.fromString(t))),new Xh(e.firestore,null,n)}function Zh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=L(e),1===arguments.length&&(t=Bi.u()),Vh("doc","path",t),e instanceof Gh)return zh(n=Xi.fromString.apply(Xi,b([t],r))),new $h(e,null,new ho(n));if(!(e instanceof $h||e instanceof Xh))throw new Oi(Ci.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zh(n=e._path.child(Xi.fromString.apply(Xi,b([t],r)))),new $h(e.firestore,e instanceof Xh?e.converter:null,new ho(n))}function ed(e,t){return e=L(e),t=L(t),(e instanceof $h||e instanceof Xh)&&(t instanceof $h||t instanceof Xh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function td(e,t){return e=L(e),t=L(t),e instanceof Yh&&t instanceof Yh&&e.firestore===t.firestore&&ua(e._query,t._query)&&e.converter===t.converter}var nd=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Pl(this,"async_queue_retry"),this.Ic=function(){var t=Al();t&&Pi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Al();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Al();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Su;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return g(this,void 0,void 0,(function(){var e,t=this;return v(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cu(e=n.sent()))throw e;return Pi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=hf.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Fi()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return g(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function rd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Su,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var id=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new nd,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return d(t,e),t.prototype._terminate=function(){return this._firestoreClient||ad(this),this._firestoreClient.terminate()},t}(Gh);function od(e){return e._firestoreClient||ad(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ad(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Oh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new yh(e._credentials,e._queue,r)}function sd(e,t,n){var r=this,i=new Su;return e.asyncQueue.enqueue((function(){return g(r,void 0,void 0,(function(){var r;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bh(e,n)];case 1:return o.sent(),[4,wh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Ci.FAILED_PRECONDITION||e.code===Ci.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ud(e){if(e._initialized||e._terminated)throw new Oi(Ci.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),ld=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(to.fromBase64String(t))}catch(t){throw new Oi(Ci.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(to.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),fd=function(e){this._methodName=e},hd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oi(Ci.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oi(Ci.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return zi(this._lat,e._lat)||zi(this._long,e._long)},e}(),dd=/^__.*__$/,pd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)},e}(),gd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function vd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fi()}}var md=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Fd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(vd(this.Nc)&&dd.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),yd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Dl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new md({Nc:e,methodName:t,qc:n,path:Zi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function bd(e){var t=e._freezeSettings(),n=Dl(e._databaseId);return new yd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Pd("Data must be an object, but it was:",a,r);var s,u,c=Ad(r,a);if(o.merge)s=new eo(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Rd(t,h[f],n);if(!a.contains(d))throw new Oi(Ci.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Md(l,d)||l.push(d)}s=new eo(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new pd(new No(c),s,u)}var _d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(fd);function Ed(e,t,n){return new md({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype._toFieldTransform=function(e){return new Ca(e.path,new _a)},t.prototype.isEqual=function(e){return e instanceof t},t}(fd),Td=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=Ed(this,e,!0),n=this.Kc.map((function(e){return Od(e,t)})),r=new Ea(n);return new Ca(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fd),kd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=Ed(this,e,!0),n=this.Kc.map((function(e){return Od(e,t)})),r=new Ta(n);return new Ca(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fd),Id=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return d(t,e),t.prototype._toFieldTransform=function(e){var t=new Ia(e.R,va(e.R,this.Qc));return new Ca(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(fd);function xd(e,t,n,r){var i=e.Uc(1,t,n);Pd("Data must be an object, but it was:",i,r);var o=[],a=No.empty();Gi(r,(function(e,r){var s=jd(t,e,n);r=L(r);var u=i.Oc(s);if(r instanceof _d)o.push(s);else{var c=Od(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new eo(o);return new gd(a,s,i.fieldTransforms)}function Nd(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Rd(t,r,n)],u=[i];if(o.length%2!=0)throw new Oi(Ci.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Rd(t,o[c])),u.push(o[c+1]);for(var l=[],f=No.empty(),h=s.length-1;h>=0;--h)if(!Md(l,s[h])){var d=s[h],p=u[h];p=L(p);var g=a.Oc(d);if(p instanceof _d)l.push(d);else{var v=Od(p,g);null!=v&&(l.push(d),f.set(d,v))}}var m=new eo(l);return new gd(f,m,a.fieldTransforms)}function Cd(e,t,n,r){return void 0===r&&(r=!1),Od(n,e.Uc(r?4:3,t))}function Od(e,t){if(Dd(e=L(e)))return Pd("Unsupported field value:",t,e),Ad(e,t);if(e instanceof fd)return function(e,t){if(!vd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Od(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=L(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return va(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hi.fromDate(e);return{timestampValue:Ts(t.R,n)}}if(e instanceof Hi)return n=new Hi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ts(t.R,n)};if(e instanceof hd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ld)return{bytesValue:ks(t.R,e._byteString)};if(e instanceof $h){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ns(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Kh(e))}(e,t)}function Ad(e,t){var n={};return $i(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gi(e,(function(e,r){var i=Od(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hi||e instanceof hd||e instanceof ld||e instanceof $h||e instanceof fd)}function Pd(e,t,n){if(!Dd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kh(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Rd(e,t,n){if((t=L(t))instanceof cd)return t._internalPath;if("string"==typeof t)return jd(e,t);throw Fd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ld=new RegExp("[~\\*/\\[\\]]");function jd(e,t,n){if(t.search(Ld)>=0)throw Fd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(cd.bind.apply(cd,b([void 0],t.split(".")))))._internalPath}catch(Up){throw Fd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Fd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Oi(Ci.INVALID_ARGUMENT,(s+=". ")+e+u)}function Md(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new $h(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Vd);function Bd(e,t){return"string"==typeof t?jd(e,t):t instanceof cd?t._internalPath:t._delegate._internalPath}var zd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),qd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return d(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Vd),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(qd),Hd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Kd(n._firestore,n._userDataWriter,r.key,r,new zd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oi(Ci.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Kd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Kd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Wd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Wd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fi()}}function Qd(e,t){return e instanceof qd&&t instanceof qd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hd&&t instanceof Hd&&e._firestore===t._firestore&&td(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gd(e){if(ta(e)&&0===e.explicitOrderBy.length)throw new Oi(Ci.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $d=function(){};function Yd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Xd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return d(t,e),t.prototype._apply=function(e){var t=bd(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ip(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(rp(r,e,f))}s={arrayValue:{values:u}}}else s=rp(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ip(a,o),s=Cd(n,"where",a,"in"===o||"not-in"===o);var h=jo.create(i,o,s);return function(e,t){if(t.g()){var n=ra(e);if(null!==n&&!n.isEqual(t.field))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=na(e);null!==r&&op(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Yh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}($d),Jd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return d(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qo(t,n);return function(e,t){if(null===na(e)){var n=ra(e);null!==n&&op(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Yh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Xo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}($d),Zd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return d(t,e),t.prototype._apply=function(e){return new Yh(e.firestore,e.converter,sa(e._query,this.Hc,this.Jc))},t}($d),ep=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=np(e,this.type,this.Yc,this.Xc);return new Yh(e.firestore,e.converter,function(e,t){return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}($d),tp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return d(t,e),t.prototype._apply=function(e){var t=np(e,this.type,this.Yc,this.Xc);return new Yh(e.firestore,e.converter,function(e,t){return new Xo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}($d);function np(e,t,n,r){if(n[0]=L(n[0]),n[0]instanceof Vd)return function(e,t,n,r,i){if(!r)throw new Oi(Ci.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=oa(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(_o(t,r.key));else{var c=r.data.field(u.field);if(ao(c))throw new Oi(Ci.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ho(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bd(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Oi(Ci.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ia(e)&&-1!==c.indexOf("/"))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Xi.fromString(c));if(!ho.isDocumentKey(l))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ho(l);s.push(_o(t,f))}else{var h=Cd(n,r,c);s.push(h)}}return new Ho(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function rp(e,t,n){if("string"==typeof(n=L(n))){if(""===n)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ia(t)&&-1!==n.indexOf("/"))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xi.fromString(n));if(!ho.isDocumentKey(r))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return _o(e,new ho(r))}if(n instanceof $h)return _o(e,n._key);throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Kh(n)+".")}function ip(e,t){if(!Array.isArray(e)||0===e.length)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function op(e,t,n){if(!n.isEqual(t))throw new Oi(Ci.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ap=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return io(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fi()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Gi(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new hd(io(e.latitude),io(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=so(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uo(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ro(e);return new Hi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Xi.fromString(e);Mi(Zs(n));var r=new Ah(n.get(1),n.get(3)),i=new ho(n.popFirst(5));return r.isEqual(t)||Ri("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function sp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var up=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new ld(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $h(this.firestore,null,t)},t}(ap),cp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bd(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=lp(e,this._firestore),i=sp(r.converter,t,n),o=wd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Aa.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=lp(e,this._firestore);return o="string"==typeof(t=L(t))||t instanceof cd?Nd(this._dataReader,"WriteBatch.update",a._key,t,n,r):xd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Aa.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=lp(e,this._firestore);return this._mutations=this._mutations.concat(new Wa(t._key,Aa.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oi(Ci.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function lp(e,t){if((e=L(e)).firestore!==t)throw new Oi(Ci.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new ld(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $h(this.firestore,null,t)},t}(ap);function hp(e,t,n){e=Hh(e,$h);var r=Hh(e.firestore,id),i=sp(e.converter,t,n);return gp(r,[wd(bd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Aa.none())])}function dp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Hh(e,$h);var o=Hh(e.firestore,id),a=bd(o);return gp(o,[("string"==typeof(t=L(t))||t instanceof cd?Nd(a,"updateDoc",e._key,t,n,r):xd(a,"updateDoc",e._key,t)).toMutation(e._key,Aa.exists(!0))])}function pp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=L(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||rd(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(rd(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof $h)c=Hh(e.firestore,id),l=Zo(e._key.path),u={next:function(t){i[s]&&i[s](vp(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Hh(e,Yh);c=Hh(d.firestore,id),l=d._query;var p=new fp(c);u={next:function(e){i[s]&&i[s](new Hd(c,p,d,e))},error:i[s+1],complete:i[s+2]},Gd(e._query)}return function(e,t,n,r){var i=this,o=new gh(r),a=new Tf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return g(i,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=bf,[4,xh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return g(i,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=wf,[4,xh(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(od(c),l,f,u)}function gp(e,t){return function(e,t){var n=this,r=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=Ff,[4,Ih(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(od(e),t)}function vp(e,t,n){var r=n.docs.get(t._key),i=new fp(e);return new qd(e,i,t._key,r,new zd(n.hasPendingWrites,n.fromCache),t.converter)}var mp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return d(t,e),t.prototype.get=function(t){var n=this,r=lp(t,this._firestore),i=new fp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new qd(n._firestore,i,r._key,e._document,new zd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=bd(e)}return e.prototype.get=function(e){var t=this,n=lp(e,this._firestore),r=new up(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fi();var i=e[0];if(i.isFoundDocument())return new Vd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Vd(t._firestore,r,n._key,null,n.converter);throw Fi()}))},e.prototype.set=function(e,t,n){var r=lp(e,this._firestore),i=sp(r.converter,t,n),o=wd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=lp(e,this._firestore);return o="string"==typeof(t=L(t))||t instanceof cd?Nd(this._dataReader,"Transaction.update",a._key,t,n,r):xd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=lp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function yp(){if("undefined"==typeof Uint8Array)throw new Oi(Ci.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bp(){if("undefined"==typeof atob)throw new Oi(Ci.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return bp(),new e(ld.fromBase64String(t))},e.fromUint8Array=function(t){return yp(),new e(ld.fromUint8Array(t))},e.prototype.toBase64=function(){return bp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),_p=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ud(e=Hh(e,id));var n=od(e),r=e._freezeSettings(),i=new ph;return sd(n,i,new hh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ud(e=Hh(e,id));var t=od(e),n=e._freezeSettings(),r=new ph;return sd(t,r,new dh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Oi(Ci.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Su;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return g(t,void 0,void 0,(function(){var t;return v(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return Iu.yt()?(t=e+"main",[4,Iu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Fc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Ep=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Ah||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Hh(e,Gh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Li("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=pl.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=p({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[E(JSON.stringify({alg:"none",type:"JWT"})),E(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Oi(Ci.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pl(u)}e._credentials=new Lh(new Ph(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return g(t,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,Sh(e)];case 1:return t=r.sent(),[4,kh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Vi(e);return t.Or.delete(0),Ul(t)}(n))]}}))}))}))}(od(Hh(this._delegate,id)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return g(t,void 0,void 0,(function(){var t,n;return v(this,(function(r){switch(r.label){case 0:return[4,Sh(e)];case 1:return t=r.sent(),[4,kh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return g(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return(t=Vi(e)).Or.add(0),[4,Bl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(od(Hh(this._delegate,id)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Bh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(t,void 0,void 0,(function(){var t;return v(this,(function(r){switch(r.label){case 0:return t=qf,[4,Ih(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(od(Hh(this._delegate,id)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new gh(t);return e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vi(e).Gr.add(t),t.next()},[4,xh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vi(e).Gr.delete(t)},[4,xh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(od(e=Hh(e,id)),rd(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Oi(Ci.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new jp(this,Jh(this._delegate,e))}catch(e){throw Np(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new xp(this,Zh(this._delegate,e))}catch(e){throw Np(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Pp(this,function(e,t){if(e=Hh(e,Gh),Vh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yh(e,null,function(e){return new Xo(Xi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Np(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return[4,function(e){return Eh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new mh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(od(e),(function(n){return t(new mp(e,n))}))}(this._delegate,(function(n){return e(new Tp(t,n))}))},e.prototype.batch=function(){var e=this;return od(this._delegate),new kp(new cp(this._delegate,(function(t){return gp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Oi(Ci.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Oi(Ci.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Sp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return d(t,e),t.prototype.convertBytes=function(e){return new wp(new ld(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xp.eu(t,this.firestore,null)},t}(ap);var Tp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}return e.prototype.get=function(e){var t=this,n=Fp(e);return this._delegate.get(n).then((function(e){return new Ap(t._firestore,new qd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Fp(e);return n?(Uh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=Fp(e);return this._delegate.delete(t),this},e}(),kp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Fp(e);return n?(Uh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,b([a,t,n],i)),this},e.prototype.delete=function(e){var t=Fp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ip=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Kd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Sp(t),n),i.set(n,o)),o},e}();Ip.su=new WeakMap;var xp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Oi(Ci.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new $h(n._delegate,r,new ho(t)))},e.eu=function(t,n,r){return new e(n,new $h(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new jp(this.firestore,Jh(this._delegate,e))}catch(e){throw Np(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=L(e))instanceof $h&&ed(this._delegate,e)},e.prototype.set=function(e,t){t=Uh("DocumentReference.set",t);try{return t?hp(this._delegate,e,t):hp(this._delegate,e)}catch(e){throw Np(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dp(this._delegate,e):dp.apply(void 0,b([this._delegate,e,t],n))}catch(e){throw Np(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gp(Hh((e=this._delegate).firestore,id),[new Wa(e._key,Aa.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Cp(t),i=Op(t,(function(t){return new Ap(e.firestore,new qd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return pp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hh(e,$h);var t=Hh(e.firestore,id),n=od(t),r=new fp(t);return function(e,t){var n=this,r=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return g(this,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Vi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Oi(Ci.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=df(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Th(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new qd(t,r,e._key,n,new zd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hh(e,$h);var t=Hh(e.firestore,id);return Nh(od(t),e._key,{source:"server"}).then((function(n){return vp(t,e,n)}))}(this._delegate):function(e){e=Hh(e,$h);var t=Hh(e.firestore,id);return Nh(od(t),e._key).then((function(n){return vp(t,e,n)}))}(this._delegate)).then((function(e){return new Ap(t.firestore,new qd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ip.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Np(e,t,n){return e.message=e.message.replace(t,n),e}function Cp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!rd(r))return r}return{}}function Op(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rd(e[0])?e[0]:rd(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ap=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new xp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Qd(this._delegate,e._delegate)},e}(),Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Ap),Pp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yd(this._delegate,function(e,t,n){var r=t,i=Bd("where",e);return new Xd(i,r,n)}(t,n,r)))}catch(t){throw Np(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Bd("orderBy",e);return new Jd(r,n)}(t,n)))}catch(t){throw Np(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yd(this._delegate,function(e){return Wh("limit",e),new Zd("limit",e,"F")}(t)))}catch(t){throw Np(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yd(this._delegate,function(e){return Wh("limitToLast",e),new Zd("limitToLast",e,"L")}(t)))}catch(t){throw Np(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ep("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Np(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ep("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Np(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Np(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Np(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return td(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hh(e,Yh);var t=Hh(e.firestore,id),n=od(t),r=new fp(t);return function(e,t){var n=this,r=new Su;return e.asyncQueue.enqueueAndForget((function(){return g(n,void 0,void 0,(function(){var n;return v(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a,s;return v(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Jc(e,t,!0)];case 1:return s=u.sent(),r=new Of(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=df(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Th(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hh(e,Yh);var t=Hh(e.firestore,id),n=od(t),r=new fp(t);return Ch(n,e._query,{source:"server"}).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate):function(e){e=Hh(e,Yh);var t=Hh(e.firestore,id),n=od(t),r=new fp(t);return Gd(e._query),Ch(n,e._query).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Lp(t.firestore,new Hd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Cp(t),i=Op(t,(function(t){return new Lp(e.firestore,new Hd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return pp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ip.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Rp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Dp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Lp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Pp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Dp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Rp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Dp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Qd(this._delegate,e._delegate)},e}(),jp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return d(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new xp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new xp(this.firestore,void 0===e?Zh(this._delegate):Zh(this._delegate,e))}catch(e){throw Np(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Hh(e.firestore,id),r=Zh(e),i=sp(e.converter,t);return gp(n,[wd(bd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Aa.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xp(t.firestore,e)}))},t.prototype.isEqual=function(e){return ed(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ip.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Pp);function Fp(e){return Hh(e,$h)}var Mp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(cd.bind.apply(cd,b([void 0],e)))}return e.documentId=function(){return new e(Zi.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=L(e))instanceof cd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Vp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Sd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new _d("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Td("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new kd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Id("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Up,Bp,zp={Firestore:Ep,GeoPoint:hd,Timestamp:Hi,Blob:wp,Transaction:Tp,WriteBatch:kp,DocumentReference:xp,DocumentSnapshot:Ap,Query:Pp,QueryDocumentSnapshot:Dp,QuerySnapshot:Lp,CollectionReference:jp,FieldPath:Mp,FieldValue:Vp,setLogLevel:function(e){var t;t=e,Ai.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new j("firestore",(function(e){return function(e,t){return new Ep(e,new id(e,t),new _p)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},zp)))})(Up=fe),Up.registerVersion("@firebase/firestore","2.4.1");var qp=new Uint8Array(16);function Kp(){if(!Bp&&!(Bp="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bp(qp)}var Hp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Wp=function(e){return"string"===typeof e&&Hp.test(e)},Qp=[],Gp=0;Gp<256;++Gp)Qp.push((Gp+256).toString(16).substr(1));var $p,Yp,Xp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Qp[e[t+0]]+Qp[e[t+1]]+Qp[e[t+2]]+Qp[e[t+3]]+"-"+Qp[e[t+4]]+Qp[e[t+5]]+"-"+Qp[e[t+6]]+Qp[e[t+7]]+"-"+Qp[e[t+8]]+Qp[e[t+9]]+"-"+Qp[e[t+10]]+Qp[e[t+11]]+Qp[e[t+12]]+Qp[e[t+13]]+Qp[e[t+14]]+Qp[e[t+15]]).toLowerCase();if(!Wp(n))throw TypeError("Stringified UUID is invalid");return n},Jp=0,Zp=0;var eg=function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||$p,a=void 0!==e.clockseq?e.clockseq:Yp;if(null==o||null==a){var s=e.random||(e.rng||Kp)();null==o&&(o=$p=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Yp=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:Zp+1,l=u-Jp+(c-Zp)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>Jp)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jp=u,Zp=c,Yp=a;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var d=0;d<6;++d)i[r+d]=o[d];return t||Xp(i)},tg=n(7),ng=n.n(tg);function rg(){return rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(this,arguments)}function ig(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var og=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=ig(t,["color","size"]);return e.createElement("svg",rg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("polyline",{points:"3 6 5 6 21 6"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));og.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},og.displayName="Trash2";var ag=og;function sg(){return sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}function ug(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var cg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=ug(t,["color","size"]);return e.createElement("svg",sg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));cg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},cg.displayName="PlusCircle";var lg=cg,fg=n(184),hg=function(e){return(0,fg.jsxs)("div",{className:"section",children:[(0,fg.jsxs)("div",{className:"section__label",children:[(0,fg.jsx)("h1",{id:"name",children:e.name.toUpperCase()}),(0,fg.jsx)("button",{className:"btn-synched "+(e.synched?"--synched ":""),onClick:e.synched?null:e.saveState,children:e.synched?"SYNCHED":"CHANGES"}),(0,fg.jsxs)("div",{className:"section-buttons",children:[(0,fg.jsx)(ag,{className:"section-buttons__edit "+(e.editable?"--editable ":""),size:"3rem",onClick:e.toggleEdit}),(0,fg.jsx)(lg,{className:"section-buttons__adder",size:"3rem",onClick:e.addCardFunc})]})]}),(0,fg.jsx)("div",{id:"divider"}),(0,fg.jsx)("div",{className:"content-container "+e.className,children:e.children})]})};function dg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pg(Object(n),!0).forEach((function(t){dg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mg(e,t){if(e){if("string"===typeof e)return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vg(e,t):void 0}}function yg(e){return function(e){if(Array.isArray(e))return vg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(){return bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function wg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _g=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=wg(t,["color","size"]);return e.createElement("svg",bg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))}));_g.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},_g.displayName="List";var Eg=_g;function Sg(){return Sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(this,arguments)}function Tg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=Tg(t,["color","size"]);return e.createElement("svg",Sg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("polyline",{points:"20 6 9 17 4 12"}))}));kg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},kg.displayName="Check";var Ig=kg;function xg(){return xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(this,arguments)}function Ng(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Cg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=Ng(t,["color","size"]);return e.createElement("svg",xg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));Cg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},Cg.displayName="X";var Og=Cg;function Ag(){return Ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(this,arguments)}function Dg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Pg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=Dg(t,["color","size"]);return e.createElement("svg",Ag({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("path",{d:"M12 20h9"}),e.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));Pg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},Pg.displayName="Edit3";var Rg=Pg;function Lg(){return Lg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lg.apply(this,arguments)}function jg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=jg(t,["color","size"]);return e.createElement("svg",Lg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),e.createElement("path",{d:"M22 12A10 10 0 0 0 12 2v10z"}))}));Fg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},Fg.displayName="PieChart";var Mg=Fg;function Vg(){return Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(this,arguments)}function Ug(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Bg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=Ug(t,["color","size"]);return e.createElement("svg",Vg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Bg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},Bg.displayName="Plus";var zg=Bg;function qg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||mg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kg=function(e){s(n,e);var t=f(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).componentDidUpdate=function(e,t){t!==r.state&&r.props.setCustomMeasure({unit:r.state.user_unit,weight:r.state.user_weight,nutrients:r.state.user_nutri})},r.convert=function(e,t,n){var r=null;switch(t+n){case"grampound":r=.0022046*e;break;case"gramounce":r=.035275*e;break;case"poundgram":r=453.5924*e;break;case"ouncegram":r=28.34952*e;break;case"poundounce":r=16*e;break;case"ouncepound":r=e/16}return r="gram"===n?Math.round(r+.1):r.toFixed(2)},r.unitChange=function(e){var t=r.state.user_unit,n=r.state.user_weight,i=r.convert(n,t,e);r.setState({user_unit:e,user_weight:i})},r.weightChange=function(e){var t=e;"gram"!==r.state.user_unit&&(t=r.convert(e,r.state.user_unit,"gram"));for(var n=t/r.props.measure.weight_g,i={},o=0,a=Object.entries(r.props.measure.nutrients);o<a.length;o++){var s=qg(a[o],2),u=s[0],c=s[1];i[u]=c*n}r.setState({user_weight:e,user_nutri:i})},r.render=function(){return(0,fg.jsxs)("li",{className:r.props.className,children:[(0,fg.jsxs)("div",{className:"weight",children:[(0,fg.jsx)("input",{type:"number",value:r.state.user_weight,onChange:function(e){return r.weightChange(e.target.value)}}),(0,fg.jsxs)("select",{defaultValue:r.state.user_unit,onChange:function(e){return r.unitChange(e.target.value)},children:[(0,fg.jsx)("option",{value:"gram",children:"g"}),(0,fg.jsx)("option",{value:"pound",children:"lb"}),(0,fg.jsx)("option",{value:"ounce",children:"oz"})]})]}),(0,fg.jsx)("img",{src:r.props.thumbnail,alt:"thumbnail"}),(0,fg.jsx)("div",{className:"name",children:r.props.name}),(0,fg.jsx)("div",{className:"delete-food "+(r.props.edit?"":"hide"),onClick:r.props.deleteSelf,children:(0,fg.jsx)(ag,{})})]})},r.state={user_unit:r.props.measure.user?r.props.measure.user.unit:"gram",user_weight:r.props.measure.user?r.props.measure.user.weight:r.props.measure.weight_g,user_nutri:r.props.measure.user?r.props.measure.user.nutrients:r.props.measure.nutrients},r}return i(n)}(e.Component),Hg=Kg,Wg=i((function e(t){var n=this;o(this,e),this.data=null,this.cleanCommonFood=function(e){return{isBranded:!1,isCommon:!0,displayName:n.constructor.capitalizeEachWord(e.food_name),item:{name:e.tag_name,id:e.tag_id},foodName:e.food_name,servingQty:e.serving_qty,servingUnit:e.serving_unit,servingWeight:{g:e.serving_weight_grams},photo:e.photo,nutrients:n.calcFoodNutrition(e.full_nutrients)}},this.cleanBrandedFood=function(e){return{isBranded:!0,isCommon:!1,displayName:n.constructor.capitalizeEachWord(e.food_name),brand:{name:e.brand_name,id:e.nix_brand_id},item:{name:e.brand_name_item_name,id:e.nix_item_id},foodName:e.food_name,servingQty:e.serving_qty,servingUnit:e.serving_unit,servingWeight:{g:e.serving_weight_grams},photo:e.photo,nutrients:n.calcFoodNutrition(e.full_nutrients)}},this.calcFoodNutrition=function(e){var t={};return t={totalCarbs:0,totalFats:0,totalProtiens:0},e.forEach((function(e){var n=void 0;203===e.attr_id&&(n="totalProtiens"),204===e.attr_id&&(n="totalFats"),205===e.attr_id&&(n="totalCarbs"),207===e.attr_id&&(n="ash_g"),208===e.attr_id&&(n="energy_kcal"),209===e.attr_id&&(n="starch_g"),210===e.attr_id&&(n="sucrose_g"),211===e.attr_id&&(n="glucose_g"),212===e.attr_id&&(n="fructose_g"),213===e.attr_id&&(n="lactose_g"),214===e.attr_id&&(n="maltose_g"),221===e.attr_id&&(n="ethylAlcohol_g"),255===e.attr_id&&(n="water_g"),257===e.attr_id&&(n="adjustedProtien_g"),262===e.attr_id&&(n="caffeine_mg"),263===e.attr_id&&(n="theobromine_mg"),268===e.attr_id&&(n="energy_kj"),269===e.attr_id&&(n="totalSugars_g"),287===e.attr_id&&(n="galactose_g"),291===e.attr_id&&(n="fiber_g"),301===e.attr_id&&(n="calcium_mg"),303===e.attr_id&&(n="iron_mg"),304===e.attr_id&&(n="magnesium_mg"),305===e.attr_id&&(n="phosphorus_mg"),306===e.attr_id&&(n="potassium_mg"),307===e.attr_id&&(n="sodium_mg"),309===e.attr_id&&(n="zinc_mg"),312===e.attr_id&&(n="copper_mg"),313===e.attr_id&&(n="fluoride_ug"),315===e.attr_id&&(n="manganese_mg"),317===e.attr_id&&(n="selenium_ug"),318===e.attr_id&&(n="vitaminA_IU"),319===e.attr_id&&(n="retinol_ug"),320===e.attr_id&&(n="vitaminA_RAE_ug"),321===e.attr_id&&(n="caroteneBeta_ug"),322===e.attr_id&&(n="caroteneAlpha_ug"),323===e.attr_id&&(n="vitaminE_mg"),324===e.attr_id&&(n="vitaminD_IU"),325===e.attr_id&&(n="vitaminD2_ug"),326===e.attr_id&&(n="vitaminD3_ug"),328===e.attr_id&&(n="vitaminD2D3_ug"),334===e.attr_id&&(n="cryptoxanthinBeta_ug"),337===e.attr_id&&(n="lycopene_ug"),338===e.attr_id&&(n="lutein_zeaxanthin_ug"),341===e.attr_id&&(n="bTocopherol_mg"),342===e.attr_id&&(n="gTocopherol_mg"),343===e.attr_id&&(n="dTocopherol_mg"),344===e.attr_id&&(n="aTocotrienol_mg"),345===e.attr_id&&(n="bTocotrienol_mg"),346===e.attr_id&&(n="gTocotrienol_mg"),347===e.attr_id&&(n="dTocotrienol_mg"),401===e.attr_id&&(n="vitaminC_mg"),404===e.attr_id&&(n="thiamin_mg"),405===e.attr_id&&(n="riboflavin_mg"),406===e.attr_id&&(n="niacin_mg"),410===e.attr_id&&(n="pantothenicAcid_mg"),415===e.attr_id&&(n="vitaminB6_mg"),417===e.attr_id&&(n="folate_ug"),418===e.attr_id&&(n="VitaminB12_ug"),421===e.attr_id&&(n="choline_mg"),428===e.attr_id&&(n="menaquinone4_ug"),429===e.attr_id&&(n="dihydrophylloquinone_ug"),430===e.attr_id&&(n="vitaminK_ug"),431===e.attr_id&&(n="folicAcid_ug"),432===e.attr_id&&(n="folate_food_ug"),435===e.attr_id&&(n="folate_DFE_ug"),454===e.attr_id&&(n="betaine_mg"),501===e.attr_id&&(n="tryptophan_g"),502===e.attr_id&&(n="threonine_g"),503===e.attr_id&&(n="isoleucine_g"),504===e.attr_id&&(n="leucine_g"),505===e.attr_id&&(n="lysine_g"),506===e.attr_id&&(n="methionine_g"),507===e.attr_id&&(n="cystine_g"),508===e.attr_id&&(n="phenylalanine_g"),509===e.attr_id&&(n="tyrosine_g"),510===e.attr_id&&(n="valine_g"),511===e.attr_id&&(n="arginine_g"),512===e.attr_id&&(n="histidine_G"),513===e.attr_id&&(n="alanine_g"),514===e.attr_id&&(n="asparticAcid_g"),515===e.attr_id&&(n="glutamicAcid_g"),516===e.attr_id&&(n="glycine_g"),517===e.attr_id&&(n="proline_g"),518===e.attr_id&&(n="serine_g"),521===e.attr_id&&(n="hydroxyproline_g"),539===e.attr_id&&(n="sugar_added_g"),573===e.attr_id&&(n="vitaminE_added_mg"),578===e.attr_id&&(n="vitaminB12_added_ug"),601===e.attr_id&&(n="cholesterol_mg"),605===e.attr_id&&(n="fattyAcids_trans_g"),606===e.attr_id&&(n="fattyAcids_satur_g"),n?t[n]=e.value:t[e.attr_id]=e.value})),t},t.brand_name||t.brand_name_item_name||t.brand_type?this.data=this.cleanBrandedFood(t):this.data=this.cleanCommonFood(t)}));Wg.capitalizeEachWord=function(e){if("string"!==typeof e)return e;var t=e.split(" "),n=[];return t.forEach((function(e){n.push(e.charAt(0).toUpperCase()+e.slice(1))})),n.join(" ")};var Qg=Wg;function Gg(){return Gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(this,arguments)}function $g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,a=void 0===o?24:o,s=$g(t,["color","size"]);return e.createElement("svg",Gg({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));Yg.propTypes={color:ng().string,size:ng().oneOfType([ng().string,ng().number])},Yg.displayName="Minus";var Xg=Yg,Jg=function(e){s(n,e);var t=f(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).incrementServes=function(e){var t=r.state.serves+e;t<1&&(t=1),r.props.updateServings(t),r.setState({serves:t})},r.getCalories=function(e){return Math.ceil(9*e.totalFats+4*e.totalProtiens+4*e.totalCarbs)},r.getAllNutrients=function(e){var t={};return e.forEach((function(e){var n=e.user?e.user.nutrients:e.nutrients;Object.keys(n).forEach((function(e){t.hasOwnProperty(e)?t[e]+=n[e]:t[e]=n[e]}))})),t},r.getDailyValue=function(e){var t={totalFats:0,totalCarbs:0,sattransfat_g:0,cholesterol_mg:0,sodium_mg:0,fiber_g:0,vataminA_re:0,vitaminC_mg:0,calcium_mg:0,iron_mg:0};return e.forEach((function(e){var n=e.user?e.user.nutrients:e.nutrients;t.totalFats+=(n.totalFats?n.totalFats:0)/65,t.totalCarbs+=(n.totalCarbs?n.totalCarbs:0)/300,t.sattransfat_g+=((n.fattyAcids_satur_g?n.fattyAcids_satur_g:0)+(n.fattyAcids_trans_g?n.fattyAcids_trans_g:0))/20,t.cholesterol_mg+=(n.cholesterol_mg?n.cholesterol_mg:0)/300,t.sodium_mg+=(n.sodium_mg?n.sodium_mg:0)/2400,t.fiber_g+=(n.fiber_g?n.fiber_g:0)/25,t.vataminA_re+=(n.vitaminA_RAE_ug?n.vitaminA_RAE_ug:0)/1e3,t.vitaminC_mg+=(n.vitaminC_mg?n.vitaminC_mg:0)/60,t.calcium_mg+=(n.calcium_mg?n.calcium_mg:0)/1100,t.iron_mg+=(n.iron_mg?n.iron_mg:0)/14})),t},r.HR=function(e){var t=e.thin?"HR--thin ":e.thick?"HR--thick ":"",n=e.light?"light ":"";return(0,fg.jsx)("div",{className:"HR "+t+n})},r.Nutrient=function(e){return(0,fg.jsxs)("span",{className:"nutrient "+(e.className?e.className:""),children:[(0,fg.jsxs)("span",{style:e.bold?{fontWeight:"bold"}:null,children:[e.name," "]}),(0,fg.jsxs)("span",{children:[e.value?Math.ceil(e.value/r.state.serves):0," ",e.unit]}),e.dailyValue?(0,fg.jsxs)("span",{className:"dpercent",children:[Math.ceil(e.dailyValue/r.state.serves*100),"%"]}):null]})},r.render=function(){var e=r.HR,t=r.Nutrient,n=r.getAllNutrients(r.props.foods),i=r.getDailyValue(r.props.foods),o=r.state.lang_fr?"Valeur nutritive":"Nutrition Facts",a=r.state.lang_fr?"portions par recette":"servings per recipe",s=r.state.lang_fr?"valeur quotidienne":"Daily Value",u=r.state.lang_fr?"Lapides":"Fat",c=r.state.lang_fr?"satur\xe9s":"Saturated",l=r.state.lang_fr?"+ trans":"+ Trans",f=r.state.lang_fr?"Glucides":"Carbohydrate",h=r.state.lang_fr?"Fibres":"Fibre",d=r.state.lang_fr?"Sucres":"Sugars",p=r.state.lang_fr?"Prot\xe9ines":"Protien",g=r.state.lang_fr?"Cholest\xe9rol":"Cholesterol",v=r.state.lang_fr?"Fer":"Iron";return(0,fg.jsxs)("div",{className:"NutritionLabel",onClick:function(){return console.log(r.props.foods)},children:[(0,fg.jsxs)("div",{className:"header",children:[r.props.langToggle?(0,fg.jsxs)("div",{className:"bling-toggle",onClick:function(){return r.setState({lang_fr:!r.state.lang_fr})},children:[(0,fg.jsx)("span",{className:"bling-toggle__en "+(r.state.lang_fr?"":" selected"),children:"EN"}),"/",(0,fg.jsx)("span",{className:"bling-toggle__fr "+(r.state.lang_fr?" selected":""),children:"FR"})]}):null,(0,fg.jsx)("h1",{children:o})]}),(0,fg.jsxs)("div",{className:"serving-size",children:[(0,fg.jsx)("button",{className:"valbtn-minus",onClick:function(){return r.incrementServes(-1)},children:(0,fg.jsx)(Xg,{})}),(0,fg.jsx)("span",{className:"value",children:r.state.serves}),(0,fg.jsx)("button",{className:"valbtn-plus",onClick:function(){return r.incrementServes(1)},children:(0,fg.jsx)(zg,{})}),(0,fg.jsxs)("span",{className:"text",children:[" ",a]})]}),(0,fg.jsx)(e,{}),(0,fg.jsxs)("div",{className:"calories-dlabel",children:[(0,fg.jsxs)("div",{className:"calories",children:[(0,fg.jsxs)("span",{children:["Calories ",Math.ceil(r.getCalories(n)/r.state.serves)]}),(0,fg.jsx)(e,{thick:!0})]}),(0,fg.jsxs)("span",{className:"dpercent-label",children:["% ",s,"*"]})]}),(0,fg.jsxs)("div",{className:"NL__totalFats",children:[(0,fg.jsx)(t,{bold:!0,name:u,unit:"g",value:n.totalFats,dailyValue:i.totalFats}),(0,fg.jsxs)("div",{className:"breakdown",children:[(0,fg.jsxs)("div",{className:"breakdown__values",children:[(0,fg.jsx)(t,{name:c,unit:"g",value:n.fattyAcids_satur_g}),(0,fg.jsx)(t,{name:l,unit:"g",value:n.fattyAcids_trans_g})]}),(0,fg.jsxs)("span",{className:"dpercent",children:[Math.ceil(i.sattransfat_g/r.state.serves*100),"%"]})]})]}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsxs)("div",{className:"NL__totalCarbs",children:[(0,fg.jsx)(t,{bold:!0,name:f,unit:"g",value:n.totalCarbs,dailyValue:i.totalCarbs}),(0,fg.jsx)("div",{className:"breakdown",children:(0,fg.jsxs)("div",{className:"breakdown__values",children:[(0,fg.jsx)(t,{name:h,unit:"g",value:n.fiber_g}),(0,fg.jsx)(t,{name:d,unit:"g",value:n.totalSugars_g})]})})]}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsx)(t,{className:"NL__totalProtiens",bold:!0,name:p,unit:"g",value:n.totalProtiens}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsx)(t,{bold:!0,name:g,unit:"mg",value:n.cholesterol_mg,dailyValue:i.cholesterol_mg}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsx)(t,{bold:!0,name:"Sodium",unit:"mg",value:n.sodium_mg,dailyValue:i.sodium_mg}),(0,fg.jsx)(e,{thick:!0}),(0,fg.jsx)(t,{name:"Potassium",unit:"mg",value:n.potassium_mg}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsx)(t,{name:"Calcium",unit:"mg",value:n.calcium_mg,dailyValue:i.calcium_mg}),(0,fg.jsx)(e,{thin:!0}),(0,fg.jsx)(t,{name:v,unit:"mg",value:n.iron_mg,dailyValue:i.iron_mg}),(0,fg.jsx)(e,{thick:!0}),r.state.lang_fr?(0,fg.jsxs)("span",{className:"NL_footnote",children:[(0,fg.jsx)("span",{children:"*"})," 5% ou moins c'est",(0,fg.jsx)("span",{children:" peu"}),", 15% ou plus c'est",(0,fg.jsx)("span",{children:" beaucoup"})]}):(0,fg.jsxs)("span",{className:"NL_footnote",children:[(0,fg.jsx)("span",{children:"*"})," 5% or less is",(0,fg.jsx)("span",{children:" a little"}),", 15% or more is",(0,fg.jsx)("span",{children:" a lot"})]})]})},r.state={serves:r.props.serves?r.props.serves:1,lang_fr:!1},r}return i(n)}(e.Component),Zg=Jg,ev={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tv=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return d(t,e),t}(Error);var nv=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return g(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return g(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function rv(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var iv=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return rv(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?rv(e,(function(e){return t.decode(e)})):e},e}();var ov=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new iv,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new nv(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Up){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o;return v(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return g(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return g(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return v(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new tv("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([av(c,this.postJSON(r,i,o)),l,av(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new tv("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!ev[s])return new tv("internal","internal");r=ev[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Up){}return"ok"===r?null:new tv(r,i,o)}(f.status,f.json,this.serializer))throw h;if(!f.json)throw new tv("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new tv("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function av(e,t){return g(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:ov};e.INTERNAL.registerComponent(new j("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new ov(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(fe,fetch.bind(self)),fe.registerVersion("@firebase/functions","0.6.16");var sv=function(e){s(n,e);var t=f(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).clearSearch=function(){setTimeout((function(){r.setState({searchTerms:""})}),300)},r.delayedSearch=function(e){r.setState({searchTerms:e}),""!==e&&(void 0!==r.timeoutID&&clearTimeout(r.timeoutID),r.timeoutID=setTimeout((function(){r.instantSearch(e)}),400))},r.instantSearch=function(e){fe.app().functions("us-east4").httpsCallable("searchInstantNX")({search:e}).then((function(e){return r.props.onResult(e.data)})).catch((function(e){return console.error(e)}))},r.render=function(){return(0,fg.jsx)("input",{type:"text",className:r.props.className,placeholder:"Search Food Here...",onChange:function(e){return r.delayedSearch(e.target.value)},value:r.state.searchTerms})},r.state={searchTerms:""},r}return i(n)}(e.Component),uv=sv,cv=function(t){s(r,t);var n=f(r);function r(t){var i;return o(this,r),(i=n.call(this,t)).onSearchResult=function(e){"ok"===e.status?i.setState({searchResult:e.message}):i.setState({searchResult:null})},i.cancelSearch=function(){i.searchInputRef.current.clearSearch(),i.setState({searchResult:null}),i.props.setShowSearch(!1)},i.addFood=function(e){i.props.addFoodToCard(e),i.cancelSearch()},i.render=function(){return(0,fg.jsxs)("div",{className:"recipeCard__foodSearch "+(i.props.showSearch?"":"-hide "),children:[(0,fg.jsxs)("div",{className:"recipeCard__foodSearch__input",children:[(0,fg.jsx)(uv,{onResult:function(e){return i.onSearchResult(e)},ref:i.searchInputRef}),(0,fg.jsx)("button",{onClick:i.cancelSearch,children:(0,fg.jsx)(Og,{})})]}),(0,fg.jsx)("div",{className:"recipeCard__foodSearch__results ",children:i.state.searchResult?(0,fg.jsxs)("ul",{className:"result",children:[i.state.searchResult.common.map((function(e,t){return(0,fg.jsxs)("li",{className:"result__food common",onClick:function(){return i.addFood(e)},children:[(0,fg.jsx)("div",{className:"type common"}),(0,fg.jsx)("img",{src:e.photo.thumb,alt:""}),(0,fg.jsx)("span",{children:Qg.capitalizeEachWord(e.food_name)})]},"cfood_"+t)})),i.state.searchResult.branded.map((function(e,t){return(0,fg.jsxs)("li",{className:"result__food branded",onClick:function(){return i.addFood(e)},children:[(0,fg.jsx)("div",{className:"type branded"}),(0,fg.jsx)("img",{src:e.photo.thumb,alt:""}),(0,fg.jsx)("span",{children:Qg.capitalizeEachWord(e.food_name)})]},"bfood_"+t)}))]}):null}),(0,fg.jsx)("span",{className:"attribution",children:"Powered By Nutritionix"})]})},i.searchInputRef=e.createRef(),i.state={searchResult:null},i}return i(r)}(e.Component),lv=function(t){var n=t.ratio.f+t.ratio.c+t.ratio.p,r=t.ratio.f/n,i=t.ratio.c/n,o=t.ratio.p/n,a=qg((0,e.useState)(0),2),s=a[0],u=a[1],c=qg((0,e.useState)(0),2),l=c[0],f=c[1],h=qg((0,e.useState)(0),2),d=h[0],p=h[1],g=(0,e.useRef)();return(0,e.useEffect)((function(){u(g.current.offsetWidth*r),f(g.current.offsetWidth*i),p(g.current.offsetWidth*o)}),[n,r,i,o]),(0,fg.jsxs)("div",{ref:g,className:"macroRatio",children:[(0,fg.jsx)("div",{className:"macroRatio__f",style:{flexGrow:s}}),(0,fg.jsx)("div",{className:"macroRatio__p",style:{flexGrow:d}}),(0,fg.jsx)("div",{className:"macroRatio__c",style:{flexGrow:l}})]})},fv=function(e){s(n,e);var t=f(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).componentDidUpdate=function(e,t){var n=!1;console.log(t.ingredients),console.log(r.state.ingredients),t.ingredients!==r.state.ingredients&&(n=!0),t.servings!==r.state.servings&&(n=!0),n&&r.props.updateCard(r.state)},r.addFood=function(e){var t=new Qg(e).data,n=yg(r.state.ingredients);n.push(t),r.setState({ingredients:n,showSearch:!1,searchResult:null})},r.deleteFood=function(e){var t=yg(r.state.ingredients);t.splice(e,1),r.setState({ingredients:t})},r.updateName=function(){r.state.recipeName!==r.props.recipeName&&r.props.updateCard(r.state),r.setState({editable:!1})},r.discardChanges=function(){r.setState({editable:!1,recipeName:r.props.recipeName})},r.setCustomMeasures=function(e,t){var n=yg(r.state.ingredients);n[e]=gg(gg({},r.state.ingredients[e]),{},{user:t}),r.setState({ingredients:n})},r.flipToSide=function(e){r.setState({isFlipped:"front"!==e})},r.getMacros=function(){var e={f:0,c:0,p:0};return r.state.ingredients.forEach((function(t){e.f+=t.user?t.user.nutrients.totalFats:t.nutrients.totalFats,e.p+=t.user?t.user.nutrients.totalProtiens:t.nutrients.totalProtiens,e.c+=t.user?t.user.nutrients.totalCarbs:t.nutrients.totalCarbs})),e},r.render=function(){var e=r.getMacros();return(0,fg.jsxs)("div",{className:"recipeCard-Container",children:[(0,fg.jsx)("div",{className:"recipeCard__deleteOverlay "+(r.props.editable?"--editable ":""),children:(0,fg.jsx)(ag,{className:"recipeCard__deleteOverlay__delbutton",size:"10rem",onClick:r.props.deleteSelf})}),(0,fg.jsxs)("div",{className:"recipeCard"+(r.state.isFlipped?" -flipped":""),children:[(0,fg.jsxs)("div",{className:"recipeCard__front",children:[(0,fg.jsxs)("div",{className:"recipeCard__navbar",children:[(0,fg.jsx)(Eg,{className:"recipeCard__navbar__icon"}),r.state.editable?(0,fg.jsxs)(fg.Fragment,{children:[(0,fg.jsx)("input",{className:"recipeCard__navbar__label -edit",type:"text",value:r.state.recipeName,onChange:function(e){return r.setState({recipeName:e.target.value})}}),(0,fg.jsx)(Ig,{className:"recipeCard__navbar__button",onClick:r.updateName}),(0,fg.jsx)(Og,{className:"recipeCard__navbar__button",onClick:r.discardChanges})]}):(0,fg.jsxs)(fg.Fragment,{children:[(0,fg.jsx)("span",{className:"recipeCard__navbar__label",children:r.state.recipeName}),(0,fg.jsx)(Rg,{className:"recipeCard__navbar__button",onClick:function(){return r.setState({editable:!0})}}),(0,fg.jsx)(Mg,{className:"recipeCard__navbar__button",onClick:function(){return r.flipToSide("back")}}),(0,fg.jsx)(zg,{className:"recipeCard__navbar__button",onClick:function(){return r.setState({showSearch:!0})}})]})]}),(0,fg.jsx)("div",{className:"recipeCard__content",children:r.state.ingredients.length>0?(0,fg.jsx)("ul",{className:"recipeCard__foodList",children:r.state.ingredients.map((function(e,t){return(0,fg.jsx)(Hg,{edit:r.state.editable,className:"recipeCard__foodList__foodItem",name:e.displayName,thumbnail:e.photo.thumb,measure:{nutrients:e.nutrients,weight_g:e.servingWeight.g,user:!!e.user&&e.user},setCustomMeasure:function(e){return r.setCustomMeasures(t,e)},deleteSelf:function(){return r.deleteFood(t)},as:"li"},e.item.id+"_"+t)}))}):null}),(0,fg.jsx)(cv,{showSearch:r.state.showSearch,setShowSearch:function(e){return r.setState({showSearch:e})},addFoodToCard:r.addFood})]}),(0,fg.jsxs)("div",{className:"recipeCard__back",children:[(0,fg.jsxs)("div",{className:"recipeCard__navbar",children:[(0,fg.jsx)(Mg,{className:"recipeCard__navbar__icon"}),(0,fg.jsx)("span",{className:"recipeCard__navbar__label",children:"Nutrients"}),(0,fg.jsx)(Eg,{className:"recipeCard__navbar__button",onClick:function(){return r.flipToSide("front")}})]}),(0,fg.jsx)("div",{className:"recipeCard__content",children:r.state.ingredients.length>0?(0,fg.jsxs)(fg.Fragment,{children:[(0,fg.jsx)(lv,{ratio:e}),(0,fg.jsx)(Zg,{serves:r.state.servings,updateServings:function(e){return r.setState({servings:e})},foods:r.state.ingredients,langToggle:!0})]}):(0,fg.jsxs)("div",{className:"no-data",children:[(0,fg.jsx)("span",{children:"No nutritional information to show"}),(0,fg.jsx)("span",{children:"Please add some ingredients first"})]})})]})]})]})},r.state={recipeName:e.recipeName,ingredients:e.ingredients,servings:e.servings,isFlipped:!1,editable:e.editable,showSearch:!1},r}return i(n)}(e.Component),hv=fv,dv=function(e){s(n,e);var t=f(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).componentDidMount=function(){r.loadState()},r.render=function(){return(0,fg.jsx)(fg.Fragment,{children:(0,fg.jsx)(hg,{className:"RecipeView",name:"Recipes",editable:r.state.editable,synched:r.state.synched,saveState:r.saveState,addCardFunc:r.addCard,toggleEdit:function(){return r.setState({editable:!r.state.editable})},children:Object.keys(r.state.cards).length>0?Object.keys(r.state.cards).map((function(e){return(0,fg.jsx)(hv,{recipeName:r.state.cards[e].recipeName,ingredients:r.state.cards[e].ingredients,servings:r.state.cards[e].servings,editable:r.state.editable,deleteSelf:function(){return r.deleteCard(e)},updateCard:function(t){return r.updateCard(e,t)}},e)})):null})})},r.addCard=function(){var e=eg(),t=r.state.cards;t[e]={recipeName:"new card",ingredients:[],servings:1},r.setState({cards:t,synched:!1})},r.deleteCard=function(e){console.log(e);var t=r.state.cards;delete t[e],r.setState({cards:t,synched:!1})},r.updateCard=function(e,t){var n=r.state.cards;n[e]=t,r.setState({cards:n,synched:!1})},r.saveState=function(){var e=fe.app().firestore(),t=r.state.cards;e.collection("user-recipes").doc("guest").set(t),r.setState({synched:!0})},r.loadState=function(){fe.app().firestore().collection("user-recipes").doc("guest").get().then((function(e){r.setState({cards:e.data(),synched:!0})}))},r.state={cards:{},synched:!1,editable:!1},r}return i(n)}(e.Component),pv=dv;0===fe.apps.length&&fe.initializeApp({apiKey:"AIzaSyCcuvKmk2eMrEQUdgrEh0qa5MSb4VLAbtc",authDomain:"groceries-recipe-manager.firebaseapp.com",projectId:"groceries-recipe-manager",storageBucket:"groceries-recipe-manager.appspot.com",messagingSenderId:"1047671614579",appId:"1:1047671614579:web:7847fa553126e625830e06",measurementId:"G-1NEJ4T7QB9"});var gv=function(e){s(n,e);var t=f(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).render=function(){return(0,fg.jsx)("div",{className:"app-container",children:(0,fg.jsx)(pv,{})})},e}return i(n)}(e.Component),vv=gv,mv=function(e){e&&e instanceof Function&&n.e(377).then(n.bind(n,377)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,fg.jsx)(e.StrictMode,{children:(0,fg.jsx)(vv,{})}),document.getElementById("root")),mv()}()}();
//# sourceMappingURL=main.99a51fb9.js.map